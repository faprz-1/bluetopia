(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[545],{7536:(t,e,n)=>{"use strict";n.d(e,{d:()=>u});var r=n(7368),o=n(1116),i=n(3243);const s=function(t){return{active:t}};function a(t,e){if(1&t){const t=r.EpF();r.ynx(0),r.TgZ(1,"div",7),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().SelectGrade(e)}),r._uU(2),r.qZA(),r.BQk()}if(2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Q6J("ngClass",r.VKq(2,s,t.key==(null==n.selectedGrade?null:n.selectedGrade.key))),r.xp6(1),r.hij(" ",t.key,"\xb0Grado ")}}function c(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",8),r.NdJ("click",function(){return r.CHM(t),r.oxw().AddGrade()}),r._UZ(1,"i",9),r.qZA()}}function l(t,e){if(1&t&&(r.TgZ(0,"div",17),r.TgZ(1,"span",18),r._uU(2),r.qZA(),r._uU(3),r.qZA()),2&t){const t=e.$implicit,n=e.index;r.xp6(2),r.Oqu(n+1),r.xp6(1),r.lnq(" ",t.name," ",t.fatherLastname," ",t.motherLastname," ")}}function d(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",19),r.TgZ(1,"div",13),r._uU(2," Estrategias "),r.qZA(),r.TgZ(3,"div",20),r.TgZ(4,"div",21),r._UZ(5,"ng-select",22),r.qZA(),r.qZA(),r._UZ(6,"div",23),r.TgZ(7,"div",24),r.TgZ(8,"button",25),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onCreateNewStrategy.emit(e)}),r._uU(9," Crear nueva estrategia "),r.qZA(),r.TgZ(10,"button",26),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onApplyExistentStrategy.emit(e)}),r._uU(11," Aplicar estrategia existente "),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(2);r.xp6(5),r.Q6J("items",t.strategiesStatuses)}}function g(t,e){if(1&t&&(r.TgZ(0,"div",10),r.TgZ(1,"div",11),r.TgZ(2,"div",12),r.TgZ(3,"div",13),r._uU(4),r.qZA(),r.TgZ(5,"div",14),r.YNc(6,l,4,4,"div",15),r.qZA(),r.qZA(),r.YNc(7,d,12,1,"div",16),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(4),r.hij(" Grupo ",t[0].group," "),r.xp6(2),r.Q6J("ngForOf",t),r.xp6(1),r.Q6J("ngIf",n.teacherControls)}}function p(t,e){1&t&&(r.TgZ(0,"div",27),r.TgZ(1,"button",28),r._uU(2," Agregar grupo "),r.qZA(),r.qZA())}let u=(()=>{class t{constructor(){this.students=[],this.adminControls=!1,this.teacherControls=!1,this.onAddGroup=new r.vpe,this.onAddGrade=new r.vpe,this.onApplyExistentStrategy=new r.vpe,this.onCreateNewStrategy=new r.vpe,this.grades=[],this.selectedGrade=null,this.strategiesStatuses=[]}ngOnInit(){this.students=this.students.map(t=>(t.hasOwnProperty("studentGroup")&&(t.group=t.studentGroup.group?t.studentGroup.group.name:"sin grupo",t.grade=t.studentGroup.grade?t.studentGroup.grade.name:"sin grado"),t)),this.GroupStudents()}GroupStudents(){let t={};this.students.forEach(e=>{t[e.grade]?t[e.grade].push(e):t[e.grade]=[e]});for(const e in t){let n={};Object.prototype.hasOwnProperty.call(t,e)&&(t[e].forEach(t=>{n[t.group]?n[t.group].push(t):n[t.group]=[t]}),this.grades.push({key:e,groups:this.ObjectToArray(n)}))}this.grades.sort((t,e)=>t.key>e.key?1:t.key<e.key?-1:0),this.grades.length>0&&(this.selectedGrade=this.grades[0])}ObjectToArray(t){let e=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(t[n]);return e}SelectGrade(t){this.selectedGrade=t}AddGrade(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-grades-groups-view"]],inputs:{students:"students",adminControls:"adminControls",teacherControls:"teacherControls"},outputs:{onAddGroup:"onAddGroup",onAddGrade:"onAddGrade",onApplyExistentStrategy:"onApplyExistentStrategy",onCreateNewStrategy:"onCreateNewStrategy"},decls:7,vars:4,consts:[[1,"component-content"],[1,"d-flex"],[4,"ngFor","ngForOf"],["class","btn-add-grade clickeable text-success",3,"click",4,"ngIf"],[1,"row","mt-3"],["class","col-12 col-lg-6",4,"ngFor","ngForOf"],["class","col-12 col-lg-6 add-group-col",4,"ngIf"],[1,"tab","clickeable",3,"ngClass","click"],[1,"btn-add-grade","clickeable","text-success",3,"click"],[1,"zmdi","zmdi-plus-circle-o","zmdi-hc-2x"],[1,"col-12","col-lg-6"],[1,"group-card"],[1,"students-list"],[1,"group-title"],[1,"students"],["class","student",4,"ngFor","ngForOf"],["class","group-controls",4,"ngIf"],[1,"student"],[1,"mr-2"],[1,"group-controls"],[1,"filters"],[1,"input-container"],["bindLabel","name","placeholder","Filtrar por estado",1,"form-control",3,"items"],[1,"strategies"],[1,"controls"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"btn","btn-outline-primary","btn-block",3,"click"],[1,"col-12","col-lg-6","add-group-col"],[1,"btn","btn-success","btn-add-group"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,a,3,4,"ng-container",2),r.YNc(3,c,2,0,"div",3),r.qZA(),r.TgZ(4,"div",4),r.YNc(5,g,8,3,"div",5),r.YNc(6,p,3,0,"div",6),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngForOf",e.grades),r.xp6(1),r.Q6J("ngIf",e.adminControls),r.xp6(2),r.Q6J("ngForOf",null==e.selectedGrade?null:e.selectedGrade.groups),r.xp6(1),r.Q6J("ngIf",e.adminControls))},directives:[o.sg,o.O5,o.mk,i.w9],styles:[".content[_ngcontent-%COMP%]{width:100%;max-height:100%}.tab[_ngcontent-%COMP%]{font-size:.75rem;color:#758ca6;padding:7px 5px;border:2px solid #758ca6;border-radius:6px 6px 0 0;margin-right:12px}.active[_ngcontent-%COMP%]{border-color:#1081fb!important;color:#1081fb!important}.group-title[_ngcontent-%COMP%]{text-transform:capitalize;font-size:1rem;color:#1081fb;text-align:left;font-weight:600;margin-bottom:12px}.group-card[_ngcontent-%COMP%]{border:3px solid #758ca6;margin-bottom:1rem;border-radius:12px;height:350px;padding:12px 24px;display:flex}.students-list[_ngcontent-%COMP%]{width:50%;padding-right:1rem}.students[_ngcontent-%COMP%]{max-height:calc(100% - 40px);overflow-y:auto}.student[_ngcontent-%COMP%]{color:#758ca6;font-size:1rem;line-height:20px;text-transform:capitalize;margin-bottom:6px}.group-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%}.ng-select-container[_ngcontent-%COMP%]{padding-left:0!important}.add-group-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.btn-add-group[_ngcontent-%COMP%]{padding:1rem 4rem;font-size:1.25rem;font-weight:800}.btn-add-grade[_ngcontent-%COMP%]{display:flex;height:36px;align-items:center}"]}),t})()},7687:(t,e,n)=>{"use strict";n.d(e,{M:()=>d});var r=n(1116),o=n(3243),i=n(1041),s=n(6050),a=(n(7536),n(8838)),c=n(5470),l=n(7368);let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.u5,r.ez,o.A0,a.b,i.UX,s.G,c.zk.forRoot()]]}),t})()},7764:(t,e,n)=>{"use strict";n.d(e,{l:()=>s});var r=n(7368),o=n(1116);function i(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=e.last;r.xp6(1),r.Oqu(t.name+(n?"":","))}}let s=(()=>{class t{constructor(){this.teacher=null,this.onDelete=new r.vpe}ngOnInit(){}OnDeletedPressed(t){t.stopPropagation(),this.onDelete.emit(this.teacher)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-teacher-card"]],inputs:{teacher:"teacher"},outputs:{onDelete:"onDelete"},decls:18,vars:3,consts:[[1,"card","position-relative"],[1,"delete","clickeable",3,"click"],[1,"card-body"],[1,"text-row"],[1,"img-container"],["src","assets/icons/user-green.png","alt","user"],["src","assets/icons/mail-green.png","alt","mail"],["src","assets/icons/book-green.png","alt","book"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"span",1),r.NdJ("click",function(t){return e.OnDeletedPressed(t)}),r._uU(2," \xd7 "),r.qZA(),r.TgZ(3,"div",2),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r._UZ(6,"img",5),r.qZA(),r.TgZ(7,"span"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"div",3),r.TgZ(10,"div",4),r._UZ(11,"img",6),r.qZA(),r.TgZ(12,"span"),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"div",3),r.TgZ(15,"div",4),r._UZ(16,"img",7),r.qZA(),r.YNc(17,i,2,1,"span",8),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(8),r.Oqu(null==e.teacher?null:e.teacher.name),r.xp6(5),r.Oqu(null==e.teacher?null:e.teacher.email),r.xp6(4),r.Q6J("ngForOf",null==e.teacher?null:e.teacher.subjects))},directives:[o.sg],styles:[".card[_ngcontent-%COMP%]{padding:1rem 4rem;border:2px solid #2ed2a3;border-radius:12px;color:#758ca6;font-size:1.5rem;font-weight:500;max-width:508px;margin-bottom:0}.card-body[_ngcontent-%COMP%]{padding:0;display:flex;flex-direction:column;justify-content:space-between}.text-row[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:30px;width:100%;margin-bottom:10px}.text-row[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{height:-webkit-min-content;height:min-content;padding-right:12px;text-align:left}.text-row[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content;height:-webkit-max-content;height:max-content}.text-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:100%}.delete[_ngcontent-%COMP%]{font-size:2rem;position:absolute;top:-10px;right:8px;color:var(--danger)}"]}),t})()},8838:(t,e,n)=>{"use strict";n.d(e,{b:()=>a});var r=n(1116),o=n(1041),i=n(6050),s=(n(7764),n(7368));let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.u5,r.ez,o.UX,i.G]]}),t})()},407:(t,e,n)=>{"use strict";n.d(e,{f:()=>s});var r=n(7368),o=n(1892),i=n(1392);let s=(()=>{class t{constructor(t,e){this.router=t,this.api=e,this.user=null}HasInitialSlash(t){return!!t&&"/"==t.charAt(0)}GoToUserRoute(t){this.user=this.api.GetUser(),this.user&&(this.user&&this.user.role&&!t.includes(this.user.role.name.toLowerCase())?this.router.navigate([`/inicio/${this.user.role.name.toLowerCase()}${this.HasInitialSlash(t)?"":"/"}${t}`]):this.router.navigate([`${this.HasInitialSlash(t)?"":"/"}${t}`]))}GoTo(t){this.router.navigate([`${this.HasInitialSlash(t)?"":"/"}${t}`])}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o.F0),r.LFG(i.sM))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);