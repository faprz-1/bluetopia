(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[575],{4575:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StrategiesModule:()=>q});var r=n(1116),i=n(2320),s=n(4391),o=n(1041),a=n(6050),c=n(5470),g=n(7368),l=n(1392),u=n(407);function d(e,t){if(1&e&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&e){const e=t.$implicit,n=t.last;g.xp6(1),g.hij(" ",n?e.name:e.name+", "," ")}}function p(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",34),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(2).GoToTeams(t)}),g._uU(1," Editar "),g.qZA()}}function Z(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",35),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(2).GoToTeams(t)}),g._uU(1," Equipos "),g.qZA()}}function h(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",35),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(2).GoToTeamsProgress(t)}),g._uU(1," Progreso de equpos "),g.qZA()}}function m(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",21),g.TgZ(1,"div",22),g.TgZ(2,"div",23),g.TgZ(3,"h2",24),g._uU(4),g.qZA(),g.qZA(),g.TgZ(5,"div",25),g.TgZ(6,"div",26),g.TgZ(7,"label"),g._uU(8,"T\xedtulo"),g.qZA(),g.TgZ(9,"div",27),g._uU(10),g.qZA(),g.qZA(),g.TgZ(11,"div",26),g.TgZ(12,"label"),g._uU(13,"Pregunta generadora"),g.qZA(),g.TgZ(14,"div",27),g._uU(15),g.qZA(),g.qZA(),g.TgZ(16,"div",26),g.TgZ(17,"label"),g._uU(18,"Plantilla"),g.qZA(),g.TgZ(19,"div",27),g._uU(20),g.qZA(),g.qZA(),g.TgZ(21,"div",26),g.TgZ(22,"label"),g._uU(23,"Materias"),g.qZA(),g.TgZ(24,"div",27),g.YNc(25,d,2,1,"span",28),g.qZA(),g.qZA(),g.TgZ(26,"div",26),g.TgZ(27,"label"),g._uU(28,"Grupo"),g.qZA(),g.TgZ(29,"div",27),g.TgZ(30,"div",29),g._uU(31),g.qZA(),g.qZA(),g.qZA(),g.TgZ(32,"div",30),g.YNc(33,p,2,0,"button",31),g.YNc(34,Z,2,0,"button",32),g.YNc(35,h,2,0,"button",32),g.TgZ(36,"button",33),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).GoToCalendar(t)}),g._uU(37," Calendario "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit;g.xp6(4),g.Oqu(e.topic),g.xp6(6),g.Oqu(e.title),g.xp6(5),g.Oqu(e.generatingQuestion),g.xp6(5),g.Oqu(null==e.template?null:e.template.name),g.xp6(5),g.Q6J("ngForOf",e.subjects),g.xp6(6),g.AsE("",null==e.strategyGroup||null==e.strategyGroup.grade?null:e.strategyGroup.grade.name,"",null==e.strategyGroup||null==e.strategyGroup.group?null:e.strategyGroup.group.name,""),g.xp6(2),g.Q6J("ngIf",!(null!=e.teams&&e.teams.length)),g.xp6(1),g.Q6J("ngIf",!(null!=e.teams&&e.teams.length)),g.xp6(1),g.Q6J("ngIf",!(null==e.teams||!e.teams.length))}}function f(e,t){if(1&e&&(g.TgZ(0,"div",5),g.YNc(1,m,38,10,"div",20),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngForOf",e.strategies)}}function b(e,t){1&e&&(g.TgZ(0,"div",36),g._uU(1,' No tiene estrategias creadas, dise\xf1e una nueva estrategia para un grupo en la secci\xf3n de "Mis estudiantes" '),g.qZA())}const T=[{path:"",component:(()=>{class e{constructor(e,t){this.api=e,this.nav=t,this.user=null,this.startegyStatuses=[],this.grades=[],this.groups=[],this.gradeSelected=null,this.groupSelected=null,this.strategies=[],this.loading={}}ngOnInit(){this.user=this.api.GetUser(),this.GetStrategyStatuses(),this.GetGrades()}GetStrategyStatuses(){this.api.Get("/StrategyStatuses").subscribe(e=>{this.startegyStatuses=e},e=>{console.error("Error statuses",e)})}GetGrades(){this.loading.getting=!0,this.api.Get("/Grades").subscribe(e=>{this.grades=e,this.gradeSelected=this.grades.length?this.grades[0]:null,this.GetGroups()},e=>{console.error("Error getting grades",e),this.loading.getting=!1})}GetGroups(){this.api.Get("/Groups").subscribe(e=>{this.groups=e,this.groupSelected=this.groups.length?this.groups[0]:null,this.GetStrategies()},e=>{console.error("Error getting groups",e),this.loading.getting=!1})}GetStrategies(){let e;switch(this.user.role.name){case"School":e=`/Strategies/OfSchool/${this.user?this.user.id:0}`;break;case"Teacher":e=`/Strategies/OfTeacher/${this.user?this.user.id:0}`;break;default:e=""}this.api.Get(e).subscribe(e=>{this.strategies=e},e=>{console.error("Erro getting teacher strategies",e)})}GoToTeams(e){this.nav.GoToUserRoute(`mis-estrategias/${e.id}/equipos`)}GoToTeamsProgress(e){this.nav.GoToUserRoute(`mis-estrategias/${e.id}/progreso-equipos`)}GoToCalendar(e){this.nav.GoToUserRoute(`estrategias/${e.id}/calendario`)}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(l.sM),g.Y36(u.f))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-strategies"]],decls:25,vars:8,consts:[[1,"content"],[1,"row","mb-5"],[1,"col-12","d-flex","h-100","align-items-center","justify-content-between","header-col"],[1,"page-title"],[1,"btn","btn-primary",3,"click"],[1,"row"],[1,"col-12","d-flex","align-items-center","filters","mb-4"],[1,"flex-grow-1","filter"],[1,"input-container"],[1,"input-icon-container","icon-container-right","text-center"],["src","assets/icons/search-small.png"],["type","text","placeholder","Buscar",1,"form-control","icon-right"],[1,"select-container","filter"],["bindLabel","name","placeholder","Grado",1,"ng-select","form-control",3,"items","ngModel","change","ngModelChange"],["bindLabel","name","placeholder","Grupo",1,"ng-select","form-control",3,"items","ngModel","change","ngModelChange"],[1,"select-container","big","filter"],["bindLabel","name","placeholder","Tipo de estrategia",1,"ng-select","form-control","placeholder-primary",3,"items"],["bindLabel","name","placeholder","Estado de estrategia",1,"ng-select","form-control","placeholder-primary",3,"items"],["class","row",4,"ngIf","ngIfElse"],["noStrategies",""],["class","col-12 col-md-6 col-lg-4 mb-1",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","mb-1"],[1,"card","py-3","px-2"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"info"],[1,"text"],[4,"ngFor","ngForOf"],[1,"text","text-uppercase"],[1,"flex-column","align-items-center","justify-content-between","mt-3"],["class","btn btn-outline-success btn-block",3,"click",4,"ngIf"],["class","btn btn-primary btn-block",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary","btn-block",3,"click"],[1,"btn","btn-outline-success","btn-block",3,"click"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"text-center","no-items-message"]],template:function(e,t){if(1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g._uU(4," Mis estrategias "),g.qZA(),g.TgZ(5,"button",4),g.NdJ("click",function(){return t.nav.GoToUserRoute("plantillas")}),g._uU(6," Crear nuev estrategia "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"div",5),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"div",8),g.TgZ(11,"div",9),g._UZ(12,"img",10),g.qZA(),g._UZ(13,"input",11),g.qZA(),g.qZA(),g.TgZ(14,"div",12),g.TgZ(15,"ng-select",13),g.NdJ("change",function(){return t.GetStrategies()})("ngModelChange",function(e){return t.gradeSelected=e}),g.qZA(),g.qZA(),g.TgZ(16,"div",12),g.TgZ(17,"ng-select",14),g.NdJ("change",function(){return t.GetStrategies()})("ngModelChange",function(e){return t.groupSelected=e}),g.qZA(),g.qZA(),g.TgZ(18,"div",15),g._UZ(19,"ng-select",16),g.qZA(),g.TgZ(20,"div",15),g._UZ(21,"ng-select",17),g.qZA(),g.qZA(),g.qZA(),g.YNc(22,f,2,1,"div",18),g.qZA(),g.YNc(23,b,2,0,"ng-template",null,19,g.W1O)),2&e){const e=g.MAs(24);g.xp6(15),g.Q6J("items",t.grades)("ngModel",t.gradeSelected),g.xp6(2),g.Q6J("items",t.groups)("ngModel",t.groupSelected),g.xp6(2),g.Q6J("items",t.startegyStatuses),g.xp6(2),g.Q6J("items",t.startegyStatuses),g.xp6(1),g.Q6J("ngIf",!!t.strategies.length)("ngIfElse",e)}},directives:[s.w9,o.JJ,o.On,r.O5,r.sg],styles:[".page-title[_ngcontent-%COMP%]{color:#3d5e81;font-size:24px;font-family:Mulish;font-weight:700}.card[_ngcontent-%COMP%]{border:2px solid var(--primary);border-radius:6px;box-shadow:3px 2px 4px 2px #cacaca}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border:none;background-color:#fff}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--primary);text-align:center;font-size:1.5rem;font-weight:700}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-bottom:.5rem}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--primary);font-size:1.25rem;font-weight:600;margin-bottom:0}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#000;font-size:1.1rem}"]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[o.u5,r.ez,s.A0,o.UX,a.G,c.zk.forRoot(),i.Bz.forChild(T)]]}),e})()}}]);