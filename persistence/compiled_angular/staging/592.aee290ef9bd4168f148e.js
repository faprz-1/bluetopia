(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[592],{7254:(t,e,n)=>{"use strict";n.d(e,{R:()=>c});var i=n(8318),o=n(8470),r=n(5024),s=n(9996);function c(t,e,n,l){return(0,r.m)(n)&&(l=n,n=void 0),l?c(t,e,n).pipe((0,s.U)(t=>(0,o.k)(t)?l(...t):l(t))):new i.y(i=>{a(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function a(t,e,n,i,o){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,o),r=()=>i.removeEventListener(e,n,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),r=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),r=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let r=0,s=t.length;r<s;r++)a(t[r],e,n,i,o)}i.add(r)}},810:(t,e,n)=>{"use strict";n.d(e,{e:()=>a});var i=n(8569),o=n(6882);class r{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new s(t,this.durationSelector))}}class s extends o.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=(0,o.ft)(n,new o.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var c=n(1110);function a(t,e=i.P){return n=()=>(0,c.H)(t,e),function(t){return t.lift(new r(n))};var n}},5416:(t,e,n)=>{"use strict";n.d(e,{R:()=>o});var i=n(6882);function o(t){return e=>e.lift(new r(t))}class r{constructor(t){this.notifier=t}call(t,e){const n=new s(t),o=(0,i.ft)(this.notifier,new i.IY(n));return o&&!n.seenValue?(n.add(o),e.subscribe(n)):n}}class s extends i.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},1741:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(8277);class o extends i.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var r=n(1098);class s extends r.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,o=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<o&&(t=e.shift()));if(this.active=!1,n){for(;++i<o&&(t=e.shift());)t.unsubscribe();throw n}}}const c=new s(o)},4792:(t,e,n)=>{"use strict";n.d(e,{L:()=>a});var i=n(7368),o=n(1116);function r(t,e){if(1&t&&(i.ynx(0),i._UZ(1,"img",6),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.BQk()),2&t){const t=i.oxw().$implicit;i.xp6(3),i.Oqu(t.name)}}function s(t,e){if(1&t&&(i.ynx(0),i.YNc(1,r,4,1,"ng-container",5),i.BQk()),2&t){const t=e.first;i.xp6(1),i.Q6J("ngIf",!t)}}function c(t,e){if(1&t&&(i.TgZ(0,"div",1),i.TgZ(1,"div"),i._UZ(2,"img",2),i.qZA(),i.TgZ(3,"span",3),i._uU(4),i.qZA(),i.YNc(5,s,2,1,"ng-container",4),i.qZA()),2&t){const t=i.oxw();i.xp6(4),i.Oqu(t.crumbs[0].name),i.xp6(1),i.Q6J("ngForOf",t.crumbs)}}let a=(()=>{class t{constructor(){this.crumbs=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-breadcrumb"]],inputs:{crumbs:"crumbs"},decls:1,vars:1,consts:[["class","breadcrumbs",4,"ngIf"],[1,"breadcrumbs"],["src","assets/icons/back-arrow.png","alt","back",1,"clickeable"],[1,"first-breadcrumb"],[4,"ngFor","ngForOf"],[4,"ngIf"],["src","assets/icons/right-chevron.svg"]],template:function(t,e){1&t&&i.YNc(0,c,6,2,"div",0),2&t&&i.Q6J("ngIf",e.crumbs)},directives:[o.O5,o.sg],styles:[".breadcrumbs[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:14px;gap:14px;font-family:Mulish;color:var(--gray-1,#3d5e81);font-size:24px;font-style:normal;line-height:normal}.breadcrumbs[_ngcontent-%COMP%]   span.first-breadcrumb[_ngcontent-%COMP%]{color:var(--green-1,#26d7a4);font-size:32px}"]}),t})()},5709:(t,e,n)=>{"use strict";n.d(e,{w:()=>u});var i=n(1116),o=n(4391),r=n(1041),s=n(6050),c=n(5470),a=n(193),l=(n(4792),n(7368));let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.u5,i.ez,o.A0,r.UX,s.G,c.zk.forRoot(),a.kn.forRoot()]]}),t})()},6211:(t,e,n)=>{"use strict";n.d(e,{p:()=>d});var i=n(7368),o=n(1392),r=n(5470),s=n(1116);const c=["libraryFileSelectorModal"],a=function(t){return{selected:t}};function l(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",12),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().ToggleFile(e)}),i._UZ(1,"i",13),i._uU(2),i.qZA()}if(2&t){const t=e.$implicit;i.Q6J("ngClass",i.VKq(2,a,t.selected)),i.xp6(2),i.hij(" ",t.name," ")}}const u=function(){return{backdrop:"static",keyboard:!1}};let d=(()=>{class t{constructor(t){this.api=t,this.onFilesSelectd=new i.vpe,this.user=null,this.files=[]}ngOnInit(){this.user=this.api.GetUser(),this.GetLibraryFiles()}OpenModal(){var t;null===(t=this.modal)||void 0===t||t.show()}CloseModal(){var t;null===(t=this.modal)||void 0===t||t.hide()}GetLibraryFiles(){this.api.Get(`/Usuarios/${this.user.schoolId}/FileLibrary`).subscribe(t=>{this.files=t},t=>{console.error("Error getting the files",t)})}ToggleFile(t){t.selected=!t.selected}SelectFiles(){this.onFilesSelectd.emit(this.files.filter(t=>t.selected))}Reset(){this.files.forEach(t=>t.selected=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(o.sM))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-library-file-selector-modal"]],viewQuery:function(t,e){if(1&t&&i.Gf(c,5),2&t){let t;i.iGM(t=i.CRH())&&(e.modal=t.first)}},outputs:{onFilesSelectd:"onFilesSelectd"},decls:15,vars:3,consts:[["bsModal","","tabindex","-1","role","dialog","aria-labelledby","libraryFileSelectorModal",1,"modal","fade",3,"config"],["libraryFileSelectorModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body"],[1,"text","text-center"],[1,"files"],["class","file clickeable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"modal-footer","justify-content-around"],[1,"btn","btn-bigger","btn-outline-primary","modal-btn",3,"click"],[1,"btn","btn-bigger","btn-primary","modal-btn",3,"click"],[1,"file","clickeable",3,"ngClass","click"],[1,"zmdi","zmdi-file","zmdi-hc-2x","mr-3"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0,1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i._UZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i._uU(7," Selecciona los archivos que deseas adjuntar "),i.qZA(),i.TgZ(8,"div",7),i.YNc(9,l,3,4,"div",8),i.qZA(),i.qZA(),i.TgZ(10,"div",9),i.TgZ(11,"button",10),i.NdJ("click",function(){return i.CHM(t),i.MAs(1).hide(),e.Reset()}),i._uU(12," Cancelar "),i.qZA(),i.TgZ(13,"button",11),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(1);return e.SelectFiles(),n.hide()}),i._uU(14," Aceptar "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&t&&(i.Q6J("config",i.DdM(2,u)),i.xp6(9),i.Q6J("ngForOf",e.files))},directives:[r.oB,s.sg,s.mk],styles:[".files[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;max-height:50vh;overflow-y:auto}.files[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.8rem 1.2rem;margin:.5rem;flex-grow:1;border-radius:12px;border:2px solid #587594}.selected[_ngcontent-%COMP%]{border:4px solid #1081fb!important}"]}),t})()},5110:(t,e,n)=>{"use strict";n.d(e,{N:()=>l});var i=n(1116),o=n(4391),r=n(1041),s=n(6050),c=n(5470),a=(n(6211),n(7368));let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.u5,i.ez,o.A0,r.UX,s.G,c.zk.forRoot()]]}),t})()},6327:(t,e,n)=>{"use strict";n.d(e,{L:()=>m});var i=n(7368),o=n(1116),r=n(1041),s=n(4391);function c(t,e){if(1&t&&(i.TgZ(0,"div",6),i.TgZ(1,"div",7),i.TgZ(2,"input",11),i.NdJ("ngModelChange",function(t){return e.$implicit.value=t}),i.qZA(),i.qZA(),i.TgZ(3,"textarea",12),i.NdJ("ngModelChange",function(t){return e.$implicit.description=t}),i.qZA(),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(3);i.xp6(2),i.Q6J("disabled",!n.canEdit)("ngModel",t.value),i.xp6(1),i.Q6J("disabled",!n.canEdit)("ngModel",t.description)}}function a(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"img",14),i.NdJ("click",function(){return i.CHM(t),i.oxw(3).AddCol()}),i.qZA(),i.TgZ(2,"img",15),i.NdJ("click",function(){return i.CHM(t),i.oxw(3).RemoveCol()}),i.qZA(),i.qZA()}}function l(t,e){if(1&t&&(i.TgZ(0,"div",5),i.TgZ(1,"div",6),i.TgZ(2,"div",7),i._uU(3,"Valor"),i.qZA(),i.TgZ(4,"textarea",8),i.NdJ("ngModelChange",function(t){return e.$implicit.description=t}),i.qZA(),i.qZA(),i.YNc(5,c,4,4,"div",9),i.YNc(6,a,3,0,"div",10),i.qZA()),2&t){const t=e.$implicit,n=e.last,o=i.oxw(2);i.xp6(4),i.Q6J("disabled",!o.canEdit)("ngModel",t.description),i.xp6(1),i.Q6J("ngForOf",t.concepts),i.xp6(1),i.Q6J("ngIf",n&&o.showControls)}}function u(t,e){1&t&&i._UZ(0,"div",19)}function d(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",5),i.YNc(1,u,1,0,"div",16),i.TgZ(2,"div",17),i.TgZ(3,"div",18),i.TgZ(4,"img",14),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).AddRow()}),i.qZA(),i.TgZ(5,"img",15),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).RemoveRow()}),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",null==t.rubrics[0]?null:t.rubrics[0].concepts)}}function g(t,e){if(1&t&&(i.TgZ(0,"div",2),i.YNc(1,l,7,4,"div",3),i.YNc(2,d,6,1,"div",4),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.rubrics),i.xp6(1),i.Q6J("ngIf",t.showControls)}}function p(t,e){if(1&t&&(i.TgZ(0,"ng-option",28),i._uU(1),i.qZA()),2&t){const t=e.$implicit;i.Q6J("value",t),i.xp6(1),i.hij(" ",t.value," ")}}function f(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",25),i._uU(2),i.qZA(),i.TgZ(3,"div",25),i._uU(4),i.qZA(),i.TgZ(5,"div",23),i.TgZ(6,"ng-select",26),i.NdJ("ngModelChange",function(t){return e.$implicit.conceptSelected=t})("change",function(e){const n=i.CHM(t).$implicit;return i.oxw(2).OnRubricValueSelected(n,e)}),i.YNc(7,p,2,2,"ng-option",27),i.qZA(),i.qZA(),i.BQk()}if(2&t){const t=e.$implicit;i.xp6(2),i.hij(" ",t.description," "),i.xp6(2),i.hij(" ",null!=t.conceptSelected&&t.conceptSelected.description?null==t.conceptSelected?null:t.conceptSelected.description:"Seleccione un valor"," "),i.xp6(2),i.Q6J("clearable",!1)("ngModel",t.conceptSelected),i.xp6(1),i.Q6J("ngForOf",t.concepts)}}function h(t,e){if(1&t&&(i.TgZ(0,"div",20),i.TgZ(1,"div",21),i.TgZ(2,"div",22),i.TgZ(3,"div",23),i.TgZ(4,"div",7),i._uU(5,"Valor"),i.qZA(),i.qZA(),i.TgZ(6,"div",23),i.TgZ(7,"div",7),i._uU(8,"Descripci\xf3n"),i.qZA(),i.qZA(),i.TgZ(9,"div",23),i.TgZ(10,"div",7),i._uU(11,"Valor n\xfamerico"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",21),i.TgZ(13,"div",22),i.YNc(14,f,8,5,"ng-container",24),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(14),i.Q6J("ngForOf",t.rubrics)}}let m=(()=>{class t{constructor(){this.onReset=null,this.setEvaluations=null,this.evaluationMode=!1,this.canEdit=!0,this.showControls=!0,this.rubrics=[{description:"",concepts:[]}],this.exportRubrics=new i.vpe,this.onEvaluation=new i.vpe,this.subscriptions=[]}ngOnInit(){this.onReset&&this.subscriptions.push(this.onReset.subscribe(()=>{this.ExportRubrics()})),this.setEvaluations&&this.subscriptions.push(this.setEvaluations.subscribe(t=>{(null==t?void 0:t.length)&&this.rubrics.forEach((e,n)=>{e.conceptSelected=e.concepts.find(e=>e.value==t[n])})})),this.rubrics?this.rubrics.length||this.rubrics.push({description:"",concepts:[]}):this.rubrics=[{description:"",concepts:[]}],setTimeout(()=>{this.ExportRubrics()},500)}AddRow(){this.canEdit&&this.rubrics.push({description:"",concepts:this.rubrics[0].concepts.map(t=>Object.assign({},t))})}RemoveRow(){1!=this.rubrics.length&&this.rubrics.pop()}AddCol(){if(!this.canEdit)return;const t=this.rubrics[0].concepts.length+1;this.rubrics.forEach(e=>{e.concepts.unshift({value:t,description:""})})}RemoveCol(){1!=this.rubrics[0].concepts.length&&this.rubrics.forEach(t=>{t.concepts.shift()})}ExportRubrics(){this.exportRubrics.emit(this.rubrics)}OnRubricValueSelected(t,e){t.conceptSelected=e;let n=0,i=0;this.rubrics.forEach(t=>{let e=0;t.concepts.forEach(t=>{e=Math.max(e,t.value)}),i+=t.conceptSelected?t.conceptSelected.value:0,n+=e}),this.onEvaluation.emit({maxCalification:n,calification:i,rubricsCalifications:this.rubrics.map(t=>{var e;return null===(e=t.conceptSelected)||void 0===e?void 0:e.value})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-rubric"]],inputs:{onReset:"onReset",setEvaluations:"setEvaluations",evaluationMode:"evaluationMode",canEdit:"canEdit",showControls:"showControls",rubrics:"rubrics"},outputs:{exportRubrics:"exportRubrics",onEvaluation:"onEvaluation"},decls:2,vars:2,consts:[["class","rubric",4,"ngIf"],["class","row w-100 evaluation-mode",4,"ngIf"],[1,"rubric"],["class","rubric-row",4,"ngFor","ngForOf"],["class","rubric-row",4,"ngIf"],[1,"rubric-row"],[1,"rubric-item"],[1,"rubric-title"],["placeholder","Rubro",1,"rubric-input",3,"disabled","ngModel","ngModelChange"],["class","rubric-item",4,"ngFor","ngForOf"],["class","controls vertical",4,"ngIf"],["type","text",3,"disabled","ngModel","ngModelChange"],["placeholder","Descripci\xf3n",1,"rubric-input",3,"disabled","ngModel","ngModelChange"],[1,"controls","vertical"],["src","assets/icons/add-circle.png","alt","add",1,"clickeable",3,"click"],["src","assets/icons/remove-circle.png","alt","add",1,"clickeable",3,"click"],["class","rubric-item","style","opacity: 0;",4,"ngFor","ngForOf"],[1,"rubric-col"],[1,"controls","horizontal"],[1,"rubric-item",2,"opacity","0"],[1,"row","w-100","evaluation-mode"],[1,"col-12"],[1,"row"],[1,"col-4","mb-2"],[4,"ngFor","ngForOf"],[1,"col-4","mb-2","evaluation-card"],["placeholder","Valor",1,"form-control","with-border",3,"clearable","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(i.YNc(0,g,3,2,"div",0),i.YNc(1,h,15,1,"div",1)),2&t&&(i.Q6J("ngIf",!e.evaluationMode),i.xp6(1),i.Q6J("ngIf",e.evaluationMode))},directives:[o.O5,o.sg,r.Fj,r.JJ,r.On,s.w9,s.xv],styles:[".rubric[_ngcontent-%COMP%]   .rubric-row[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:1.5rem;gap:1.5rem;margin-bottom:1.5rem}.rubric[_ngcontent-%COMP%]   .rubric-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-radius:6px;overflow:hidden;width:150px;min-width:150px}.rubric[_ngcontent-%COMP%]   .rubric-title[_ngcontent-%COMP%]{width:100%;text-align:center;color:#587594;background-color:#d3e8ff;padding:.75rem}.rubric[_ngcontent-%COMP%]   .rubric-input[_ngcontent-%COMP%]{color:#587594;background-color:#e8f3ff;border:none;resize:none;width:100%;height:6rem;padding:.5rem;font-size:1rem;text-align:center}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center}.controls[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.25rem}.horizontal[_ngcontent-%COMP%]{width:150px}.vertical[_ngcontent-%COMP%]{flex-direction:column}.vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:-webkit-min-content;width:min-content}.rubric-title[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#587594;width:100%;border:none;text-align:center;background:transparent}.evaluation-mode[_ngcontent-%COMP%]{color:var(--Gray-1,#3d5e81);font-family:Mulish;font-size:20px;font-weight:500;font-style:normal;line-height:normal}.evaluation-mode[_ngcontent-%COMP%]   .rubric-title[_ngcontent-%COMP%]{background-color:none;font-weight:700}.evaluation-card[_ngcontent-%COMP%]{display:flex;padding:10px;justify-content:center;align-items:center;grid-gap:10px;gap:10px;align-self:stretch}"]}),t})()},2496:(t,e,n)=>{"use strict";n.d(e,{P:()=>l});var i=n(1116),o=n(4391),r=n(1041),s=n(6050),c=n(5470),a=(n(6327),n(7368));let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.u5,i.ez,o.A0,r.UX,s.G,c.zk.forRoot()]]}),t})()},7390:(t,e,n)=>{"use strict";n.d(e,{c:()=>T});var i=n(7368),o=n(1392),r=n(6189),s=n(407),c=n(1116),a=n(5470);const l=["deleteStrategyModal"];function u(t,e){1&t&&(i.TgZ(0,"div",22),i._uU(1," Category "),i.qZA())}function d(t,e){if(1&t&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Oqu(t.name)}}function g(t,e){if(1&t&&(i.TgZ(0,"div",23),i.YNc(1,d,2,1,"span",24),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.strategy.subjects)}}function p(t,e){1&t&&(i.ynx(0),i.TgZ(1,"button",25),i._uU(2," Modalidad de participaci\xf3n "),i.qZA(),i.TgZ(3,"button",26),i._uU(4," Terminar de editar "),i.qZA(),i.BQk())}function f(t,e){1&t&&(i.ynx(0),i.TgZ(1,"span",27),i._uU(2,"Sin grado asignado"),i.qZA(),i.BQk())}function h(t,e){1&t&&(i.ynx(0),i.TgZ(1,"span",27),i._uU(2,"Sin grupo asignado"),i.qZA(),i.BQk())}function m(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",31),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).GoToStrategyTeamsProgress()}),i._uU(1," Ver progreso "),i.qZA()}}function b(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).GoToCreateStrategyTeams()}),i._uU(1," Asignar equipos "),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("disabled",0==(null==t.strategy.strategyGroup?null:t.strategy.strategyGroup.groupId))}}function v(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.YNc(1,m,2,0,"button",28),i.YNc(2,b,2,1,"button",29),i.TgZ(3,"button",30),i.NdJ("click",function(){return i.CHM(t),i.oxw().GoToStrategyCalendar()}),i._uU(4," Calendario "),i.qZA(),i.BQk()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",null!==(null==t.strategy?null:t.strategy.isByTeams)),i.xp6(1),i.Q6J("ngIf",null===(null==t.strategy?null:t.strategy.isByTeams))}}function Z(t,e){1&t&&(i.TgZ(0,"span"),i._uU(1,"Si, eliminar"),i.qZA())}function y(t,e){1&t&&(i.TgZ(0,"span"),i._UZ(1,"i",33),i.qZA())}const x=function(){return{backdrop:"static",keyboard:!1}};let T=(()=>{class t{constructor(t,e,n){this.api=t,this.toast=e,this.nav=n,this.strategy=null,this.onChange=new i.vpe,this.loading={deleting:!1}}ngOnInit(){}GoToEditStrategy(){this.nav.GoToUserRoute(`plantillas/${this.strategy.templateId}/crear/${this.strategy.id}`)}GoToStrategyDetails(){this.nav.GoToUserRoute(`mis-estrategias/${this.strategy.id}`)}GoToStrategyCalendar(){this.nav.GoToUserRoute(`mis-estrategias/${this.strategy.id}/calendario`)}GoToCreateStrategyTeams(){this.nav.GoToUserRoute(`mis-estrategias/${this.strategy.id}/crear-equipos`)}GoToStrategyTeamsProgress(){this.nav.GoToUserRoute(`mis-estrategias/${this.strategy.id}/progreso-equipos`)}DeleteStrategy(){this.loading.deleting=!0,this.api.Delete(`/Strategies/${this.strategy.id}`).subscribe(t=>{var e;this.toast.ShowSuccess("Estrateg\xeda eliminada"),this.loading.deleting=!1,null===(e=this.deleteStrategyModal)||void 0===e||e.hide(),this.onChange.emit({type:"delete",data:{strategyId:this.strategy.id}})},t=>{this.toast.ShowError("Error al eliminar estrateg\xeda"),console.error("Error deleting strategy",t),this.loading.deleting=!1})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(o.sM),i.Y36(r.k),i.Y36(s.f))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-strategy-card"]],viewQuery:function(t,e){if(1&t&&i.Gf(l,5),2&t){let t;i.iGM(t=i.CRH())&&(e.deleteStrategyModal=t.first)}},inputs:{strategy:"strategy"},outputs:{onChange:"onChange"},decls:48,vars:18,consts:[[1,"card"],[1,"d-flex","align-items-center","justify-content-between","align-self-stretch"],[1,"group"],[1,"d-flex","align-items-center",2,"gap","16px"],["src","assets/icons/delete.svg","alt","delete",1,"clickeable",3,"click"],["src","assets/icons/edit.svg","alt","find",1,"clickeable",3,"click"],["src","assets/icons/find-in-page-success.svg","alt","edit",1,"clickeable",3,"click"],["class","category",4,"ngIf"],[1,"d-flex","flex-column","align-items-start","justify-content-start","align-self-stretch"],["class","d-flex flex-column",4,"ngIf"],[1,"d-flex","flex-wrap","align-self-stretch",2,"gap","12px"],[4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","deleteStrategyModal",1,"modal","fade",3,"config"],["deleteStrategyModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","d-flex","justify-content-center"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer","justify-content-around"],[1,"btn","btn-outline-primary",3,"disabled","click"],[1,"btn","btn-danger",2,"min-width","155px",3,"disabled","click"],[1,"category"],[1,"d-flex","flex-column"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary","btn-block"],[1,"btn","btn-outline-success","btn-block"],[1,"badge","badge-warning"],["class","btn btn-outline-primary flex-grow-1",3,"click",4,"ngIf"],["class","btn btn-outline-primary flex-grow-1",3,"disabled","click",4,"ngIf"],[1,"btn","btn-outline-success","flex-grow-1",3,"click"],[1,"btn","btn-outline-primary","flex-grow-1",3,"click"],[1,"btn","btn-outline-primary","flex-grow-1",3,"disabled","click"],[1,"zmdi","zmdi-spinner","zmdi-hc-lg","zmdi-hc-spin"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"img",4),i.NdJ("click",function(){return i.CHM(t),i.MAs(31).show()}),i.qZA(),i.TgZ(6,"img",5),i.NdJ("click",function(){return e.GoToEditStrategy()}),i.qZA(),i.TgZ(7,"img",6),i.NdJ("click",function(){return e.GoToStrategyDetails()}),i.qZA(),i.qZA(),i.qZA(),i.YNc(8,u,2,0,"div",7),i.TgZ(9,"div",8),i.TgZ(10,"label"),i._uU(11,"Titulo"),i.qZA(),i._uU(12),i.qZA(),i.TgZ(13,"div",8),i.TgZ(14,"label"),i._uU(15,"Pregunta generadora"),i.qZA(),i._uU(16),i.qZA(),i.TgZ(17,"div",8),i.TgZ(18,"label"),i._uU(19,"Plantilla"),i.qZA(),i._uU(20),i.qZA(),i.TgZ(21,"div",8),i.TgZ(22,"label"),i._uU(23,"Campos formativos"),i.qZA(),i.YNc(24,g,2,1,"div",9),i.qZA(),i.TgZ(25,"div",10),i.YNc(26,p,5,0,"ng-container",11),i.YNc(27,f,3,0,"ng-container",11),i.YNc(28,h,3,0,"ng-container",11),i.YNc(29,v,5,2,"ng-container",11),i.qZA(),i.qZA(),i.TgZ(30,"div",12,13),i.TgZ(32,"div",14),i.TgZ(33,"div",15),i.TgZ(34,"div",16),i.TgZ(35,"div",17),i._uU(36,"Eliminar estrateg\xeda"),i.qZA(),i.qZA(),i.TgZ(37,"div",18),i._uU(38," \xbfEst\xe1 seguro/a de que desea eliminar la estrateg\xeda "),i.TgZ(39,"b"),i._uU(40),i.qZA(),i._uU(41,"? "),i.qZA(),i.TgZ(42,"div",19),i.TgZ(43,"button",20),i.NdJ("click",function(){return i.CHM(t),i.MAs(31).hide()}),i._uU(44," No, cancelar "),i.qZA(),i.TgZ(45,"button",21),i.NdJ("click",function(){return e.DeleteStrategy()}),i.YNc(46,Z,2,0,"span",11),i.YNc(47,y,2,0,"span",11),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&t&&(i.xp6(3),i.AsE(" ",null==e.strategy||null==e.strategy.strategyGroup||null==e.strategy.strategyGroup.grade?null:e.strategy.strategyGroup.grade.name,"\xb0",null==e.strategy||null==e.strategy.strategyGroup||null==e.strategy.strategyGroup.group?null:e.strategy.strategyGroup.group.name," "),i.xp6(5),i.Q6J("ngIf",!1),i.xp6(4),i.hij(" ",null!=e.strategy&&e.strategy.title?null==e.strategy?null:e.strategy.title:"Sin t\xedtulo"," "),i.xp6(4),i.hij(" ",null!=e.strategy&&e.strategy.generatingQuestion?null==e.strategy?null:e.strategy.generatingQuestion:"Sin pregunta generadora"," "),i.xp6(4),i.hij(" ",null!=e.strategy&&null!=e.strategy.template&&e.strategy.template.name?null==e.strategy||null==e.strategy.template?null:e.strategy.template.name:"Sin plantilla"," "),i.xp6(4),i.Q6J("ngIf",!!e.strategy),i.xp6(2),i.Q6J("ngIf",!1),i.xp6(1),i.Q6J("ngIf",0==(null==e.strategy.strategyGroup?null:e.strategy.strategyGroup.gradeId)),i.xp6(1),i.Q6J("ngIf",0==(null==e.strategy.strategyGroup?null:e.strategy.strategyGroup.groupId)),i.xp6(1),i.Q6J("ngIf",!0),i.xp6(1),i.Q6J("config",i.DdM(17,x)),i.xp6(10),i.hij('"',null==e.strategy?null:e.strategy.title,'"'),i.xp6(3),i.Q6J("disabled",e.loading.deleting),i.xp6(2),i.Q6J("disabled",e.loading.deleting),i.xp6(1),i.Q6J("ngIf",!e.loading.deleting),i.xp6(1),i.Q6J("ngIf",e.loading.deleting))},directives:[c.O5,a.oB,c.sg],styles:[".card[_ngcontent-%COMP%]{display:flex;width:100%;padding:12px;flex-direction:column;justify-content:center;align-items:flex-start;grid-gap:12px;gap:12px;border-radius:6px;border:1px solid var(--gray-2,#758ca6);background:#f5f8fa;color:var(--gray-1,#3d5e81);font-family:Mulish;font-size:16px;font-style:normal;font-weight:500;line-height:normal}.card[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{color:var(--blue-1,#1081fb);text-transform:uppercase}.card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:var(--green-1,#26d7a4)}.card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--blue-1,#1081fb);font-size:20px;font-weight:700;margin:0}.modal-content[_ngcontent-%COMP%]{color:var(--gray-1,#3d5e81);font-family:Mulish;font-size:20px;font-style:normal;font-weight:400;line-height:normal}.modal-content[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:var(--blue-dark,#2369b5);text-align:center;font-size:32px;font-weight:700}"]}),t})()},9188:(t,e,n)=>{"use strict";n.d(e,{b:()=>u});var i=n(1116),o=n(4391),r=n(1041),s=n(6050),c=n(5470),a=n(193),l=(n(7390),n(7368));let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.u5,i.ez,o.A0,r.UX,s.G,c.zk.forRoot(),a.kn.forRoot()]]}),t})()},6507:(t,e,n)=>{"use strict";n.d(e,{f:()=>o});var i=n(7368);let o=(()=>{class t{constructor(){this.template=null,this.onCloseModal=new i.vpe,this.onUseTemplate=new i.vpe}ngOnInit(){}CloseModal(){this.onCloseModal.emit()}UseTemplate(){this.onUseTemplate.emit(this.template)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-template-preview-modal"]],inputs:{template:"template"},outputs:{onCloseModal:"onCloseModal",onUseTemplate:"onUseTemplate"},decls:23,vars:7,consts:[[1,"modal-header"],["src","assets/icons/back-arrow.png","alt","back",1,"clickeable","top-left",3,"click"],[1,"modal-body"],[1,"d-flex","justify-content-around","mb-4"],[1,"template"],["alt","template-icon",1,"template-icon",3,"src"],[1,"d-flex","justify-content-center","h-100","align-items-start"],["src","assets/img/templates.png","alt","template-icon",1,"template-icon"],[1,"modal-footer","justify-content-center"],[1,"btn","btn-primary","use-template-btn",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"img",1),i.NdJ("click",function(){return e.CloseModal()}),i.qZA(),i.qZA(),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i._UZ(5,"img",5),i.qZA(),i.TgZ(6,"div",6),i._UZ(7,"img",7),i.qZA(),i.qZA(),i.TgZ(8,"p"),i._uU(9),i.qZA(),i.TgZ(10,"p"),i._uU(11),i.qZA(),i.TgZ(12,"p"),i._uU(13),i.qZA(),i.TgZ(14,"p"),i._uU(15),i.qZA(),i.TgZ(16,"p"),i._uU(17),i.qZA(),i.TgZ(18,"p"),i._uU(19),i.qZA(),i.qZA(),i.TgZ(20,"div",8),i.TgZ(21,"button",9),i.NdJ("click",function(){return e.UseTemplate()}),i._uU(22," Usar plantilla "),i.qZA(),i.qZA()),2&t&&(i.xp6(5),i.s9C("src","assets/icons/"+e.template.icon,i.LSH),i.xp6(4),i.hij(" ",e.template.description," "),i.xp6(2),i.hij(" ",e.template.difficulty," "),i.xp6(2),i.hij(" ",e.template.estimatedClasses," "),i.xp6(2),i.hij(" ",e.template.suggestedAges," "),i.xp6(2),i.hij(" ",e.template.suggestedSubjects," "),i.xp6(2),i.hij(" ",e.template.skillsDeveloped," "))},styles:[".use-template-btn[_ngcontent-%COMP%]{padding:.5rem 2rem;font-weight:800;font-size:1.25rem}.modal-header[_ngcontent-%COMP%]{padding:1.5rem}.modal-body[_ngcontent-%COMP%]{padding:0 3.25rem}.template[_ngcontent-%COMP%]{display:flex;width:150px;justify-content:center;align-items:center;flex-direction:column;background-color:#f4f5f7;padding:27px 1rem;border-radius:6px;height:125px}.template-icon[_ngcontent-%COMP%]{width:-webkit-min-content;width:min-content}"]}),t})()},882:(t,e,n)=>{"use strict";n.d(e,{c:()=>a});var i=n(1116),o=n(4391),r=n(1041),s=n(6050),c=(n(6507),n(7368));let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.u5,i.ez,o.A0,r.UX,s.G]]}),t})()},407:(t,e,n)=>{"use strict";n.d(e,{f:()=>s});var i=n(7368),o=n(2894),r=n(1392);let s=(()=>{class t{constructor(t,e){this.router=t,this.api=e,this.user=null}HasInitialSlash(t){return!!t&&"/"==t.charAt(0)}GoToUserRoute(t){this.user=this.api.GetUser(),this.user&&(this.user&&this.user.role&&!t.includes(this.user.role.name.toLowerCase())?this.router.navigate([`/inicio/${this.user.role.name.toLowerCase()}${this.HasInitialSlash(t)?"":"/"}${t}`]):this.router.navigate([`${this.HasInitialSlash(t)?"":"/"}${t}`]))}GoTo(t){this.router.navigate([`${this.HasInitialSlash(t)?"":"/"}${t}`])}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o.F0),i.LFG(r.sM))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2874:(t,e,n)=>{"use strict";n.d(e,{g:()=>s});var i=n(6304),o=n(7368),r=n(1392);let s=(()=>{class t{constructor(t){this.api=t,this.notifications=[]}Init(){this.LoadNotifications(),this.SusbcribeToNotifications()}SusbcribeToNotifications(){}LoadNotifications(t=!1){let e="/Notifications/getLast5";e+=t?"/"+t:"",this.api.Get(e).subscribe(t=>{this.notifications.push.apply(this.notifications,t)})}CountUnseen(){let t=0;return this.notifications.forEach(e=>{null==e.seen&&t++}),t}SetSeen(t){var e=this;return(0,i.Z)(function*(){if(null==t.seen){let n=yield e.api.Get("/Notifications/setSeen/"+t.id);e.notifications.forEach((t,i)=>{t.id==t.id&&(e.notifications[i]=n)})}})()}PrepareUrl(t){return t?t.split("/#")[1]:""}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(r.sM))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},6304:(t,e,n)=>{"use strict";function i(t,e,n,i,o,r,s){try{var c=t[r](s),a=c.value}catch(l){return void n(l)}c.done?e(a):Promise.resolve(a).then(i,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var s=t.apply(e,n);function c(t){i(s,o,r,c,a,"next",t)}function a(t){i(s,o,r,c,a,"throw",t)}c(void 0)})}}n.d(e,{Z:()=>o})}}]);