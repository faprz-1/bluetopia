(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[6227],{7764:(t,e,n)=>{"use strict";n.d(e,{l:()=>c});var i=n(7368),o=n(1116);function a(t,e){if(1&t&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&t){const t=e.$implicit,n=e.last;i.xp6(1),i.Oqu(t.name+(n?"":","))}}function r(t,e){if(1&t&&(i.TgZ(0,"span",13),i._uU(1),i.qZA()),2&t){const t=e.$implicit,n=e.last;i.xp6(1),i.Oqu((null==t.grade?null:t.grade.name)+(null==t.group?null:t.group.name)+(n?"":","))}}function s(t,e){if(1&t&&(i.TgZ(0,"div",3),i.TgZ(1,"div",4),i._UZ(2,"i",11),i.qZA(),i.TgZ(3,"div",6),i.YNc(4,r,2,1,"span",12),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(4),i.Q6J("ngForOf",null==t.teacher?null:t.teacher.teacherGroups)}}let c=(()=>{class t{constructor(){this.teacher=null,this.showGroups=!1,this.onDelete=new i.vpe}ngOnInit(){}OnDeletedPressed(t){t.stopPropagation(),this.onDelete.emit(this.teacher)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-teacher-card"]],inputs:{teacher:"teacher",showGroups:"showGroups"},outputs:{onDelete:"onDelete"},decls:21,vars:4,consts:[[1,"card","position-relative"],[1,"delete","clickeable",3,"click"],[1,"card-body"],[1,"text-row"],[1,"img-container"],["src","assets/icons/user-green.png","alt","user"],[1,"text-row-data"],["src","assets/icons/mail-green.png","alt","mail"],["src","assets/icons/book-green.png","alt","book"],[4,"ngFor","ngForOf"],["class","text-row",4,"ngIf"],[1,"zmdi","zmdi-accounts-outline"],["class","text-uppercase",4,"ngFor","ngForOf"],[1,"text-uppercase"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"span",1),i.NdJ("click",function(t){return e.OnDeletedPressed(t)}),i._uU(2," \xd7 "),i.qZA(),i.TgZ(3,"div",2),i.TgZ(4,"div",3),i.TgZ(5,"div",4),i._UZ(6,"img",5),i.qZA(),i.TgZ(7,"div",6),i.TgZ(8,"span"),i._uU(9),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"div",3),i.TgZ(11,"div",4),i._UZ(12,"img",7),i.qZA(),i.TgZ(13,"div",6),i._uU(14),i.qZA(),i.qZA(),i.TgZ(15,"div",3),i.TgZ(16,"div",4),i._UZ(17,"img",8),i.qZA(),i.TgZ(18,"div",6),i.YNc(19,a,2,1,"span",9),i.qZA(),i.qZA(),i.YNc(20,s,5,1,"div",10),i.qZA(),i.qZA()),2&t&&(i.xp6(9),i.Oqu(null==e.teacher?null:e.teacher.name),i.xp6(5),i.hij(" ",null==e.teacher?null:e.teacher.email," "),i.xp6(5),i.Q6J("ngForOf",null==e.teacher?null:e.teacher.subjects),i.xp6(1),i.Q6J("ngIf",e.showGroups))},directives:[o.sg,o.O5],styles:[".card[_ngcontent-%COMP%]{padding:1.2rem 4rem;border:2px solid #2ed2a3;border-radius:12px;color:#758ca6;font-size:1.5rem;font-weight:500;width:-webkit-max-content;width:max-content;max-width:100%;margin-bottom:0}.card-body[_ngcontent-%COMP%]{padding:0;display:flex;flex-direction:column;justify-content:space-between}.text-row[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:30px;margin-bottom:10px}.text-row[_ngcontent-%COMP%]   .text-row-data[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;flex-grow:1;flex-wrap:wrap;line-height:30px}.text-row[_ngcontent-%COMP%]   .text-row-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.3rem}.text-row[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:-webkit-min-content;height:min-content;padding-right:12px;text-align:left}.text-row[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content;height:-webkit-max-content;height:max-content}.delete[_ngcontent-%COMP%]{font-size:2rem;position:absolute;top:10px;right:15px;color:var(--danger)}.zmdi[_ngcontent-%COMP%]{color:#2ed2a3}"]}),t})()},8838:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var i=n(1116),o=n(1041),a=n(6050),r=(n(7764),n(7368));let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.u5,i.ez,o.UX,a.G]]}),t})()},6227:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TeachersCsvModule:()=>_});var i=n(1116),o=n(2894),a=n(4391),r=n(1041),s=n(6050),c=n(7368),l=n(2722),d=n(1148),g=n(1392),u=n(6189),p=n(407),m=n(5470);const h=["verifyTeachersDataModal"],Z=["confirmationModal"];function f(t,e){if(1&t&&(c.TgZ(0,"tr"),c.TgZ(1,"th"),c._uU(2),c.qZA(),c.TgZ(3,"th"),c._uU(4),c.qZA(),c.TgZ(5,"th"),c._uU(6),c.qZA(),c.TgZ(7,"th"),c._uU(8),c.qZA(),c.TgZ(9,"th"),c._uU(10),c.qZA(),c.TgZ(11,"th"),c._uU(12),c.qZA(),c.qZA()),2&t){const t=e.$implicit;c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(t.email),c.xp6(2),c.Oqu(t.subjects),c.xp6(2),c.Oqu(t.extracurricular?"SI":"NO"),c.xp6(2),c.Oqu(t.grade),c.xp6(2),c.Oqu(t.group)}}const x=function(t){return{checked:t}},b=function(){return{backdrop:"static",keyboard:!1}};let v=(()=>{class t{constructor(t,e,n,i,o){this.downloadFile=t,this.csvService=e,this.api=n,this.toast=i,this.nav=o,this.step=1,this.dataConversions=[{oldKey:"Asignaturas",newKey:"subjects"},{oldKey:"Correo",newKey:"email"},{oldKey:"Extracurriculares",newKey:"extracurricular"},{oldKey:"Grado",newKey:"grade"},{oldKey:"Grupo",newKey:"group"},{oldKey:"Nombre",newKey:"name"}],this.teachers=[],this.loading={uploading:!1}}ngOnInit(){}DownloadTemplate(){this.step=2,this.downloadFile.DownloadWithoutApi("assets/docs/teachersTemplate.csv","teachersTemplate.csv")}OnFileChanged(t){const e=t.target.files[0];if(!e)return;const n=new FileReader;n.onload=t=>{this.csvService.ReadCSV(n.result).then(t=>{var e;this.teachers=this.FormatData(t.data),null===(e=this.verifyTeachersDataModal)||void 0===e||e.show()})},e&&(n.readAsText(e,"ISO-8859-3"),this.step=3)}FormatData(t){const e=this.api.GetUser();return t.map(t=>{let n={};return this.dataConversions.forEach(e=>{var i;n[e.newKey]="extracurricular"==e.newKey?["si","1",1].includes(null===(i=t[e.oldKey])||void 0===i?void 0:i.toLowerCase()):t[e.oldKey]}),n.subjects=n.subjects.split(",").map(t=>t.trim()),n.schoolId=e.schoolId,n})}UploadTeachers(){this.loading.uploading=!0,this.api.Post("/Teachers/Array",{teachers:this.teachers}).subscribe(t=>{var e,n;this.toast.ShowSuccess(`Maestros agregados correctamente: ${t.length}`),this.loading.uploading=!1,null===(e=this.verifyTeachersDataModal)||void 0===e||e.hide(),null===(n=this.confirmationModal)||void 0===n||n.show()},t=>{console.error("Error at uploading teachers",t),this.loading.uploading=!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.p),c.Y36(d.m),c.Y36(g.sM),c.Y36(u.k),c.Y36(p.f))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-teachers-csv"]],viewQuery:function(t,e){if(1&t&&(c.Gf(h,5),c.Gf(Z,5)),2&t){let t;c.iGM(t=c.CRH())&&(e.verifyTeachersDataModal=t.first),c.iGM(t=c.CRH())&&(e.confirmationModal=t.first)}},decls:84,vars:14,consts:[[1,"content"],[1,"title"],[1,"text"],[1,"steps"],[1,"d-flex"],[1,"radio-button","checked"],[1,"instructions"],[1,"step"],[1,"mb-5"],["src","assets/icons/excel.png","alt","CSV file",1,"img-template"],[1,"link",3,"click"],[1,"radio-button",3,"ngClass"],[1,"link"],[1,"title-fake-line","mb-2"],[1,"fake-line-lg","mb-2"],[1,"fake-line-sm","mb-2"],[1,"fake-line-md","last-line","mb-2"],["type","file","accept",".csv",1,"d-none",3,"change"],["teachersCsv",""],[1,"upload-container","clickeable",3,"click"],["src","assets/icons/upload.png","alt","CSV file"],[1,"btns-group","mb-5"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-primary",3,"click"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","first-time-configuration",1,"modal","fade",3,"config"],["confirmationModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body","confirmation-modal"],[1,"modal-text"],["src","assets/icons/check-circle-md.png","alt","check.png",1,"my-5"],[1,"btn","btn-primary",3,"disabled","click"],["verifyTeachersDataModal","bs-modal"],[1,"modal-header"],["id","first-time-configuration",1,"modal-title","pull-left"],[1,"close",3,"click"],[1,"modal-body"],[1,"table"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-outline-primary",3,"disabled","click"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._uU(2," Es f\xe1cil registrar a tus maestros "),c.qZA(),c.TgZ(3,"div",2),c._uU(4," Simplemente baja nuestra plantilla de Excel, ll\xe9nala y s\xfabela de nuevo "),c.qZA(),c.TgZ(5,"div",3),c.TgZ(6,"div",4),c._UZ(7,"div",5),c.TgZ(8,"div",6),c.TgZ(9,"div",7),c._uU(10,"1) Descarga el formato de Excel"),c.qZA(),c.TgZ(11,"div",8),c._UZ(12,"img",9),c.TgZ(13,"a",10),c.NdJ("click",function(){return e.DownloadTemplate()}),c._uU(14,"Descargar"),c.qZA(),c.qZA(),c.TgZ(15,"div",2),c._uU(16,"Si tienes m\xe1s de un nivel, repetir el proceso"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"div",4),c._UZ(18,"div",11),c.TgZ(19,"div",6),c.TgZ(20,"div",7),c._uU(21,"2) Llena la plantilla, te explicamos c\xf3mo."),c.qZA(),c.TgZ(22,"div",12),c._UZ(23,"div",13),c._UZ(24,"div",14),c._UZ(25,"div",15),c._UZ(26,"div",16),c.qZA(),c.qZA(),c.qZA(),c.TgZ(27,"div",4),c._UZ(28,"div",11),c.TgZ(29,"div",6),c.TgZ(30,"div",7),c._uU(31,"3) Sube la plantilla con los datos de tus maestros"),c.qZA(),c.TgZ(32,"input",17,18),c.NdJ("change",function(t){return e.OnFileChanged(t)}),c.qZA(),c.TgZ(34,"div",19),c.NdJ("click",function(){return c.CHM(t),c.MAs(33).click()}),c._UZ(35,"img",20),c._uU(36," Subir excel de maestros "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"div",21),c.TgZ(38,"button",22),c.NdJ("click",function(){return e.nav.GoToUserRoute("mis-maestros")}),c._uU(39," Cancelar "),c.qZA(),c.TgZ(40,"button",23),c.NdJ("click",function(){return e.nav.GoToUserRoute("mis-maestros")}),c._uU(41," Continuar "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(42,"div",24,25),c.TgZ(44,"div",26),c.TgZ(45,"div",27),c.TgZ(46,"div",28),c.TgZ(47,"div",29),c._uU(48," Han quedado registrados tus docentes, si te hizo falta alguno, no te preocupes m\xe1s tarde podr\xe1s agregarle. "),c.qZA(),c._UZ(49,"img",30),c.TgZ(50,"button",31),c.NdJ("click",function(){c.CHM(t);const e=c.MAs(43),n=c.MAs(33);return e.hide(),n.value=""}),c._uU(51," Continuar "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(52,"div",24,32),c.TgZ(54,"div",26),c.TgZ(55,"div",27),c.TgZ(56,"div",33),c.TgZ(57,"h4",34),c._uU(58,"Verifica los datos"),c.qZA(),c.TgZ(59,"span",35),c.NdJ("click",function(){c.CHM(t);const e=c.MAs(53),n=c.MAs(33);return e.hide(),n.value=""}),c._uU(60," \xd7 "),c.qZA(),c.qZA(),c.TgZ(61,"div",36),c.TgZ(62,"table",37),c.TgZ(63,"thead",38),c.TgZ(64,"tr"),c.TgZ(65,"th"),c._uU(66,"Nombre"),c.qZA(),c.TgZ(67,"th"),c._uU(68,"Correo"),c.qZA(),c.TgZ(69,"th"),c._uU(70,"Asignaturas"),c.qZA(),c.TgZ(71,"th"),c._uU(72,"Extracurricular"),c.qZA(),c.TgZ(73,"th"),c._uU(74,"Grado"),c.qZA(),c.TgZ(75,"th"),c._uU(76,"Grupo"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(77,"tbody"),c.YNc(78,f,13,6,"tr",39),c.qZA(),c.qZA(),c.qZA(),c.TgZ(79,"div",40),c.TgZ(80,"button",41),c.NdJ("click",function(){c.CHM(t);const e=c.MAs(53),n=c.MAs(33);return e.hide(),n.value=""}),c._uU(81," Cancelar "),c.qZA(),c.TgZ(82,"button",31),c.NdJ("click",function(){return e.UploadTeachers()}),c._uU(83," Subir "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&t&&(c.xp6(18),c.Q6J("ngClass",c.VKq(8,x,e.step>=2)),c.xp6(10),c.Q6J("ngClass",c.VKq(10,x,e.step>=3)),c.xp6(14),c.Q6J("config",c.DdM(12,b)),c.xp6(8),c.Q6J("disabled",e.loading.uploading),c.xp6(2),c.Q6J("config",c.DdM(13,b)),c.xp6(26),c.Q6J("ngForOf",e.teachers),c.xp6(2),c.Q6J("disabled",e.loading.uploading),c.xp6(2),c.Q6J("disabled",e.loading.uploading))},directives:[i.mk,m.oB,i.sg],styles:[".title[_ngcontent-%COMP%]{margin-bottom:20px;text-transform:none}.text[_ngcontent-%COMP%]{margin-bottom:30px}.step[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#758ca6;margin-bottom:30px!important}.img-template[_ngcontent-%COMP%]{margin-right:15px}.link[_ngcontent-%COMP%]{color:#2ed2a3}.radio-button[_ngcontent-%COMP%]{width:38px;height:38px;margin-right:50px;background-color:none;border:3px solid #1081fb;border-radius:38px}.radio-button.checked[_ngcontent-%COMP%]{background-color:#1081fb}.title-fake-line[_ngcontent-%COMP%]{height:9px;width:90px;border-radius:4px;background-color:#1081fb}.fake-line-lg[_ngcontent-%COMP%]{width:360px}.fake-line-lg[_ngcontent-%COMP%], .fake-line-md[_ngcontent-%COMP%]{height:9px;max-width:100%;border-radius:4px;background-color:#cad6e2}.fake-line-md[_ngcontent-%COMP%]{width:310px}.fake-line-sm[_ngcontent-%COMP%]{height:9px;width:285px;max-width:100%;border-radius:4px;background-color:#cad6e2}.last-line[_ngcontent-%COMP%]{margin-bottom:32px!important}.upload-container[_ngcontent-%COMP%]{display:inline-block;font-size:1rem;font-weight:500;color:#1081fb;padding:23px;border:3px dashed #1081fb;border-radius:20px}.upload-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:15px}.btns-group[_ngcontent-%COMP%]{margin-top:30px;display:flex;width:100%;justify-content:end}.btns-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;max-width:250px;margin-left:50px;padding:16px 0}.confirmation-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.modal-text[_ngcontent-%COMP%]{color:#3d5e81;line-height:30px;font-family:Mulish;font-weight:400;font-size:1.5rem;text-align:center;max-width:505px}"]}),t})();var T=n(8838);const A=[{path:"",component:v}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.u5,i.ez,a.A0,T.b,r.UX,s.G,m.zk.forRoot(),o.Bz.forChild(A)]]}),t})()}}]);