(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[6040],{6040:(t,e,n)=>{"use strict";n.r(e),n.d(e,{StudentCalendarDateEventsModule:()=>q});var i=n(1116),s=n(2894),a=n(4391),r=n(1041),o=n(6050),c=n(5470),l=n(5709),d=n(9355),u=n(529),p=n(7368),v=n(1392),g=n(407),h=n(6189),m=n(2722),f=n(4792),Z=n(8742);let y=(()=>{class t{constructor(t){this.nav=t,this.event=null}ngOnInit(){}GetEventDetails(){var t,e,n,i,s;let a={icon:"activity.png",type:"Actividad",title:"T\xedtulo",instructions:"Instrucciones"};return(null===(t=this.event)||void 0===t?void 0:t.isFinal)?(a.icon="event.png",a.type="Evento de cierre",a.title=this.event.name,a.instructions=this.event.instructions):(null===(n=null===(e=this.event)||void 0===e?void 0:e.parcialProduct)||void 0===n?void 0:n.isFinal)?(a.icon="final-product.png",a.type="Producto final",a.title=this.event.parcialProduct.name,a.instructions=this.event.parcialProduct.instructions):(null===(s=null===(i=this.event)||void 0===i?void 0:i.parcialProduct)||void 0===s?void 0:s.isActivity)?(a.icon="activity.png",a.type="Actividad",a.title=this.event.parcialProduct.name,a.instructions=this.event.parcialProduct.instructions):(a.icon="parcial-product.png",a.type="Producto parcial",a.title=this.event.parcialProduct.name,a.instructions=this.event.parcialProduct.instructions),a}GoToDetails(){this.nav.GoToUserRoute(`mis-actividades/detalle-de-actividad/${this.event.parcialProduct.id}`)}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(g.f))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-student-event-card"]],inputs:{event:"event"},decls:22,vars:9,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","p-3","gap-3","bg-white","card","m-0","flex-grow-1"],[1,"d-flex","align-items-center","justify-content-start"],["alt","Producto parcial",3,"src"],[1,"d-flex","flex-column","align-items-start","justify-content-start","gap-1","text-capitalize"],[1,"text-primary"],[1,"text-black"],[1,"d-flex","align-items-center","justify-content-start","gap-2","text-capitalize"],["src","assets/icons/calendar_dark_blue.svg"],[1,"blue-dark"],[1,"btn","btn-outline-purple",3,"click"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p._UZ(2,"img",2),p.qZA(),p.TgZ(3,"div",3),p.TgZ(4,"div"),p.TgZ(5,"b"),p._uU(6),p.qZA(),p.qZA(),p.TgZ(7,"div",4),p._uU(8),p.qZA(),p.qZA(),p.TgZ(9,"div",3),p.TgZ(10,"div",4),p.TgZ(11,"b"),p._uU(12),p.qZA(),p.qZA(),p.TgZ(13,"div",5),p._uU(14),p.qZA(),p.qZA(),p.TgZ(15,"div",6),p._UZ(16,"img",7),p.TgZ(17,"div",8),p._uU(18),p.ALo(19,"date"),p.qZA(),p.qZA(),p.TgZ(20,"button",9),p.NdJ("click",function(){return e.GoToDetails()}),p._uU(21," Ver detalles de la actividad "),p.qZA(),p.qZA()),2&t&&(p.xp6(2),p.MGl("src","assets/icons/calendar-event-types/",e.GetEventDetails().icon,"",p.LSH),p.xp6(4),p.Oqu(null==e.event||null==e.event.strategy?null:e.event.strategy.title),p.xp6(2),p.hij(" ",e.GetEventDetails().type," "),p.xp6(4),p.Oqu(e.GetEventDetails().title),p.xp6(2),p.hij(" ",e.GetEventDetails().instructions," "),p.xp6(4),p.hij(" ",p.xi3(19,6,e.event.date,"dd/MMMM/yyyy")," "))},pipes:[i.uU],styles:[".card[_ngcontent-%COMP%]{color:#3d5e81;font-family:Mulish;font-size:1.125rem;font-weight:500}"]}),t})();function b(t,e){1&t&&p._UZ(0,"app-student-event-card",9),2&t&&p.Q6J("event",e.$implicit)}let T=(()=>{class t{constructor(t,e,n,i,s){this.api=t,this.nav=e,this.activatedRoute=n,this.toast=i,this.downloadService=s,this.date=null,this.strategy=null,this.selectedEvent=null,this.events=[],this.loading=!0,this.crumbs=[{name:"Calendario",route:null},{name:"D\xeda",route:null}]}get formatedDate(){return this.date?d(this.date).tz(u.N.timeZone).format("DD/MM/YY"):""}ngOnInit(){this.GetParams()}GetParams(){this.activatedRoute.params.subscribe(t=>{this.date=t.date,this.GetStudentEvents()})}GoBack(){this.nav.GoToUserRoute("calendario")}GetStudentEvents(){var t;this.api.Get(`/Students/${null===(t=this.api.GetUser())||void 0===t?void 0:t.id}/Events`).subscribe(t=>{this.events=t.filter(t=>t.date.includes(this.date)),this.loading=!1},t=>{console.error("Error getting student events",t),this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(v.sM),p.Y36(g.f),p.Y36(s.gz),p.Y36(h.k),p.Y36(m.p))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-student-calendar-date-events"]],decls:15,vars:6,consts:[[1,"content"],[1,"d-flex","align-items-start","justify-content-between","w-100"],[3,"crumbs"],[1,"d-flex","flex-column","justify-content-center","align-items-center","gap-2"],[1,"d-flex","align-items-center","gap-2"],["src","assets/icons/calendar_month_success.svg","height","48"],[1,"text-success","m-0"],[1,"d-flex","justify-content-center","align-items-center","p-3","gap-4","my-5","events-container"],["class","flex-grow-1",3,"event",4,"ngFor","ngForOf"],[1,"flex-grow-1",3,"event"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p._UZ(2,"app-breadcrumb",2),p._UZ(3,"app-calendar-event-types-card"),p.qZA(),p.TgZ(4,"div",3),p.TgZ(5,"div",4),p._UZ(6,"img",5),p.TgZ(7,"h1",6),p._uU(8,"D\xeda"),p.qZA(),p.qZA(),p.TgZ(9,"h1"),p.TgZ(10,"b"),p._uU(11),p.ALo(12,"date"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"div",7),p.YNc(14,b,1,1,"app-student-event-card",8),p.qZA(),p.qZA()),2&t&&(p.xp6(2),p.Q6J("crumbs",e.crumbs),p.xp6(9),p.Oqu(p.xi3(12,3,e.date,"dd MMMM yyyy")),p.xp6(3),p.Q6J("ngForOf",e.events))},directives:[f.L,Z.d,i.sg,y],pipes:[i.uU],styles:[".content[_ngcontent-%COMP%]{color:var(--Gray-1,#3d5e81);text-align:center;font-family:Mulish;font-size:24px;font-style:normal;font-weight:700;line-height:normal}.events-container[_ngcontent-%COMP%]{border-radius:6px;background:rgba(16,129,251,.6)}"]}),t})();var A=n(5924),x=n(193);let G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[r.u5,i.ez,a.A0,r.UX,o.G,c.zk.forRoot(),x.kn.forRoot()]]}),t})();const U=[{path:"",component:T}];let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[r.u5,i.ez,a.A0,l.w,r.UX,o.G,c.zk.forRoot(),G,A.X,s.Bz.forChild(U)]]}),t})()},2722:(t,e,n)=>{"use strict";n.d(e,{p:()=>r});var i=n(7368),s=n(1392),a=n(2693);let r=(()=>{class t{constructor(t,e){this.api=t,this.http=e}GetNormalByHTTP(t){return this.http.get(t,{responseType:"blob"})}GetByHTTP(t){return this.http.get(this.api.GetBaseURL()+t,{responseType:"blob"})}Download(t,e=""){this.GetByHTTP(t).subscribe(t=>{const n=document.createElement("a"),i=URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.click(),n.remove()})}DownloadWithoutApi(t,e=""){this.GetNormalByHTTP(t).subscribe(t=>{const n=document.createElement("a"),i=URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.click(),n.remove()})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s.sM),i.LFG(a.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);