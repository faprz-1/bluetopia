(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[282],{1282:(t,e,n)=>{"use strict";n.r(e),n.d(e,{StrategyTeamsProgressModule:()=>B});var i=n(1116),a=n(2894),r=n(4391),s=n(1041),o=n(6050),g=n(5470),l=n(7368),c=n(1392),u=n(407),p=n(4792);function d(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"Deshacer equipos"),l.qZA())}function Z(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"Asignar equipos"),l.qZA())}function f(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",23),l.NdJ("click",function(){return l.CHM(t),l.oxw().ToggleIsByTeams()}),l.YNc(1,d,2,0,"span",22),l.YNc(2,Z,2,0,"span",22),l.qZA()}if(2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.strategy.isByTeams),l.xp6(1),l.Q6J("ngIf",!t.strategy.isByTeams)}}function x(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",36),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.qZA(),l.BQk()),2&t){const t=e.$implicit,n=l.oxw(4);l.xp6(3),l.hij(" ",n.BuildStudentFullName(t.student)," ")}}function y(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",36),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.qZA(),l.BQk()),2&t){const t=e.$implicit;l.xp6(3),l.hij(" ",null==t.role?null:t.role.name," ")}}function m(t,e){if(1&t&&(l.TgZ(0,"div",32),l.TgZ(1,"div",33),l.TgZ(2,"div",34),l.YNc(3,x,4,1,"ng-container",35),l.qZA(),l.TgZ(4,"div",34),l.YNc(5,y,4,1,"ng-container",35),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(3),l.Q6J("ngForOf",t.members),l.xp6(2),l.Q6J("ngForOf",t.members)}}function T(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"Reevaluar"),l.qZA())}function v(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"Evaluar"),l.qZA())}function b(t,e){1&t&&(l.ynx(0),l.TgZ(1,"button",45),l._uU(2," Pendiente "),l.qZA(),l.BQk())}function A(t,e){1&t&&(l.ynx(0),l.TgZ(1,"button",46),l._uU(2," Calificdo "),l.qZA(),l.TgZ(3,"div",40),l._uU(4," 4.5 "),l.qZA(),l.BQk())}function q(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",37),l.TgZ(1,"div"),l._uU(2),l.ALo(3,"date"),l.qZA(),l.TgZ(4,"div",38),l.TgZ(5,"span",39),l._uU(6,"Entregable"),l.qZA(),l.TgZ(7,"div",40),l._uU(8," Archivo.pdf "),l.qZA(),l.qZA(),l.TgZ(9,"div",38),l.TgZ(10,"span",39),l._uU(11,"Acci\xf3n"),l.qZA(),l.TgZ(12,"button",41),l.NdJ("click",function(){const e=l.CHM(t).$implicit,n=l.oxw().$implicit;return l.oxw(2).GoToGradeTeamParcialProduct(n,e)}),l.YNc(13,T,2,0,"span",22),l.YNc(14,v,2,0,"span",22),l._UZ(15,"img",42),l.qZA(),l.qZA(),l.TgZ(16,"div",38),l.TgZ(17,"span",39),l._uU(18,"Entrega"),l.qZA(),l.TgZ(19,"button",43),l._uU(20," En tiempo "),l.qZA(),l.TgZ(21,"button",44),l._uU(22," Vencido "),l.qZA(),l.qZA(),l.TgZ(23,"div",38),l.TgZ(24,"span",39),l._uU(25,"Revisi\xf3n"),l.qZA(),l.YNc(26,b,3,0,"ng-container",22),l.YNc(27,A,5,0,"ng-container",22),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(2),l.AsE("",t.name," ",l.xi3(3,6,null==t.event?null:t.event.date,"dd/MM/yyyy"),""),l.xp6(11),l.Q6J("ngIf",!1),l.xp6(1),l.Q6J("ngIf",!0),l.xp6(12),l.Q6J("ngIf",!0),l.xp6(1),l.Q6J("ngIf",!1)}}function h(t,e){if(1&t&&(l.TgZ(0,"div",25),l.TgZ(1,"div",26),l.TgZ(2,"div",27),l.TgZ(3,"div",28),l._uU(4),l.qZA(),l.YNc(5,m,6,2,"div",29),l.qZA(),l.TgZ(6,"div",30),l.YNc(7,q,28,9,"div",31),l.qZA(),l.qZA(),l.qZA()),2&t){const t=e.$implicit,n=l.oxw(2);l.xp6(4),l.Oqu(t.name),l.xp6(1),l.Q6J("ngIf",!(null==t||null==t.members||!t.members.length)),l.xp6(2),l.Q6J("ngForOf",n.strategy.parcialProducts)}}function _(t,e){if(1&t&&(l.ynx(0),l.YNc(1,h,8,3,"div",24),l.BQk()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",null==t.strategy?null:t.strategy.teams)}}function w(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"Reevaluar"),l.qZA())}function U(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"Evaluar"),l.qZA())}function O(t,e){1&t&&(l.ynx(0),l.TgZ(1,"button",45),l._uU(2," Pendiente "),l.qZA(),l.BQk())}function P(t,e){1&t&&(l.ynx(0),l.TgZ(1,"button",46),l._uU(2," Calificdo "),l.qZA(),l.TgZ(3,"div",40),l._uU(4," 4.5 "),l.qZA(),l.BQk())}function M(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",49),l.TgZ(1,"div"),l._uU(2),l.ALo(3,"date"),l.qZA(),l.TgZ(4,"div",38),l.TgZ(5,"span",39),l._uU(6,"Entregable"),l.qZA(),l.TgZ(7,"div",40),l._uU(8," Archivo.pdf "),l.qZA(),l.qZA(),l.TgZ(9,"div",38),l.TgZ(10,"span",39),l._uU(11,"Acci\xf3n"),l.qZA(),l.TgZ(12,"button",41),l.NdJ("click",function(){const e=l.CHM(t).$implicit,n=l.oxw().$implicit;return l.oxw(2).GoToGradeStudentParcialProduct(n,e)}),l.YNc(13,w,2,0,"span",22),l.YNc(14,U,2,0,"span",22),l._UZ(15,"img",42),l.qZA(),l.qZA(),l.TgZ(16,"div",38),l.TgZ(17,"span",39),l._uU(18,"Entrega"),l.qZA(),l.TgZ(19,"button",43),l._uU(20," En tiempo "),l.qZA(),l.TgZ(21,"button",44),l._uU(22," Vencido "),l.qZA(),l.qZA(),l.TgZ(23,"div",38),l.TgZ(24,"span",39),l._uU(25,"Revisi\xf3n"),l.qZA(),l.YNc(26,O,3,0,"ng-container",22),l.YNc(27,P,5,0,"ng-container",22),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(2),l.AsE("",t.name," ",l.xi3(3,6,null==t.event?null:t.event.date,"dd/MM/yyyy"),""),l.xp6(11),l.Q6J("ngIf",!1),l.xp6(1),l.Q6J("ngIf",!0),l.xp6(12),l.Q6J("ngIf",!0),l.xp6(1),l.Q6J("ngIf",!1)}}function G(t,e){if(1&t&&(l.TgZ(0,"div",25),l.TgZ(1,"div",47),l.TgZ(2,"div",27),l.TgZ(3,"div",28),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",30),l.YNc(6,M,28,9,"div",48),l.qZA(),l.qZA(),l.qZA()),2&t){const t=e.$implicit,n=l.oxw(2);l.xp6(4),l.Oqu(n.BuildStudentFullName(t)),l.xp6(2),l.Q6J("ngForOf",n.strategy.parcialProducts)}}function C(t,e){if(1&t&&(l.ynx(0),l.YNc(1,G,7,2,"div",24),l.BQk()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.students)}}let I=(()=>{class t{constructor(t,e,n){this.activatedRoute=t,this.api=e,this.nav=n,this.strategy=null,this.students=[],this.crumbs=[{name:"Equipos",route:null},{name:"Visualiza el progreso de tus equipos",route:null}]}ngOnInit(){this.GetParams()}BuildStudentFullName(t){return`${t.name} ${t.fatherLastname} ${t.motherLastname}`}GoToGradeTeamParcialProduct(t,e){this.nav.GoToUserRoute(`mis-estrategias/${this.strategyId}/progreso-equipos/${t.id}/evaluar/${e.id}`)}GoToGradeStudentParcialProduct(t,e){this.nav.GoToUserRoute(`mis-estrategias/${this.strategyId}/progreso-estudiantes/${t.id}/evaluar/${e.id}`)}GetParams(){this.activatedRoute.params.subscribe(t=>{this.strategyId=t.strategyId,this.GetStrategy()})}GetStrategy(){this.api.Get(`/Strategies/${this.strategyId}`).subscribe(t=>{this.strategy=t,this.grade=t.strategyGroup?t.strategyGroup.grade:null,this.group=t.strategyGroup?t.strategyGroup.group:null,this.GetGradeGroupStudents()},t=>{console.error("Error getting strategy",t)})}GetGradeGroupStudents(){var t;this.api.Get(`/Students/OfTeacher/${null===(t=this.api.GetUser())||void 0===t?void 0:t.id}/FilteredBy/Grade/${this.grade?this.grade.id:0}/Group/${this.group?this.group.id:0}`).subscribe(t=>{this.students=t},t=>{console.error("Error getting students",t)})}SaveStrategy(){return new Promise((t,e)=>{this.api.Patch(`/Strategies/${this.strategyId}/OnlyStrategy/1`,{strategy:{id:this.strategyId,isByTeams:!!this.strategy&&!this.strategy.isByTeams}}).subscribe(e=>{t()},t=>{console.error("Error saving strategy",t),e(t)})})}ToggleIsByTeams(){let t={id:this.strategyId,isByTeams:!!this.strategy&&!this.strategy.isByTeams};this.api.Patch(`/Strategies/${this.strategyId}/OnlyStrategy/1`,{strategy:t}).subscribe(e=>{t.isByTeams?this.nav.GoToUserRoute(`mis-estrategias/${this.strategyId}/crear-equipos`):window.location.reload()},t=>{console.error("Error saving strategy",t)})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(a.gz),l.Y36(c.sM),l.Y36(u.f))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-strategy-teams-progress"]],decls:36,vars:18,consts:[[1,"content"],[1,"d-flex","justify-content-between","flex-wrap"],[3,"crumbs"],[1,"d-flex"],[1,"row","mt-5"],[1,"col-8"],[1,"d-flex","flex-column",2,"gap","24px"],[1,"info-card","justify-content-between","flex-wrap"],[1,"text-primary","text-uppercase"],[1,"d-flex","align-items-center",2,"gap","12px"],["height","35",3,"src"],[1,"text-primary"],[1,"d-flex",2,"gap","48px","color","#2369B5"],[1,"text-success"],[1,"d-flex","flex-column"],[2,"font-size","16px"],[1,"input-container"],[1,"input-icon-container","icon-container-right"],["src","assets/icons/search.png","alt","search"],["type","text","placeholder","Buscar",1,"form-control","with-border","icon-right"],[1,"col-4"],["class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],["class","col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-12","mb-4"],[1,"team-progress-card","flex-wrap","flex-lg-nowrap","justify-content-center"],[1,"team-container","w-100","flex-grow-1"],[1,"title","mb-0"],["class","team w-100",4,"ngIf"],[1,"d-flex","align-items-start","justify-content-center","justify-content-lg-start","overflow-auto",2,"gap","14px"],["class","evaluation-col","style","gap: 14px;",4,"ngFor","ngForOf"],[1,"team","w-100"],[1,"d-flex","w-100",2,"gap","10px"],[1,"d-flex","flex-column","w-50",2,"gap","10px"],[4,"ngFor","ngForOf"],[1,"member"],[1,"evaluation-col",2,"gap","14px"],[1,"d-flex","flex-column","align-items-start","align-self-stretch",2,"gap","6px"],[1,"mb-1"],[1,"file-box"],[1,"btn","btn-primary","btn-block","d-flex","justify-content-center","align-items-center",2,"gap","6px",3,"click"],["src","assets/icons/rate-review.svg"],[1,"btn","btn-success","btn-block"],[1,"btn","btn-danger","btn-block"],[1,"btn","btn-warning","btn-block"],[1,"btn","btn-primary","btn-block"],[1,"team-progress-card","flex-column","justify-content-center"],["class","evaluation-col flex-grow-1","style","gap: 14px;",4,"ngFor","ngForOf"],[1,"evaluation-col","flex-grow-1",2,"gap","14px"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"app-breadcrumb",2),l._UZ(3,"div",3),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l.TgZ(7,"div",7),l.TgZ(8,"span",8),l._uU(9),l.qZA(),l.TgZ(10,"div",9),l._UZ(11,"img",10),l.TgZ(12,"span",11),l._uU(13),l.qZA(),l.qZA(),l.TgZ(14,"div",12),l.TgZ(15,"span"),l._uU(16),l.ALo(17,"date"),l.qZA(),l.TgZ(18,"span"),l._uU(19),l.ALo(20,"date"),l.qZA(),l.qZA(),l.TgZ(21,"span",13),l._uU(22),l.qZA(),l.TgZ(23,"div",14),l.TgZ(24,"div",11),l._uU(25,"T\xedtulo"),l.qZA(),l.TgZ(26,"span",15),l._uU(27),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",16),l.TgZ(29,"div",17),l._UZ(30,"img",18),l.qZA(),l._UZ(31,"input",19),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",20),l.YNc(33,f,3,2,"button",21),l.qZA(),l.YNc(34,_,2,1,"ng-container",22),l.YNc(35,C,2,1,"ng-container",22),l.qZA(),l.qZA()),2&t&&(l.xp6(2),l.Q6J("crumbs",e.crumbs),l.xp6(7),l.AsE("",null==e.strategy||null==e.strategy.strategyGroup||null==e.strategy.strategyGroup.grade?null:e.strategy.strategyGroup.grade.name,"\xb0",null==e.strategy||null==e.strategy.strategyGroup||null==e.strategy.strategyGroup.group?null:e.strategy.strategyGroup.group.name,""),l.xp6(2),l.Q6J("src","assets/icons/"+(null==e.strategy||null==e.strategy.template?null:e.strategy.template.icon),l.LSH),l.xp6(2),l.Oqu(null==e.strategy||null==e.strategy.template?null:e.strategy.template.nickname),l.xp6(3),l.Oqu(l.xi3(17,12,null==e.strategy?null:e.strategy.startDate,"dd/MM/yyyy")),l.xp6(3),l.Oqu(l.xi3(20,15,null==e.strategy?null:e.strategy.endDate,"dd/MM/yyyy")),l.xp6(3),l.Oqu(null==e.strategy?null:e.strategy.topic),l.xp6(5),l.Oqu(null==e.strategy?null:e.strategy.title),l.xp6(6),l.Q6J("ngIf",!!e.strategy),l.xp6(1),l.Q6J("ngIf",null==e.strategy?null:e.strategy.isByTeams),l.xp6(1),l.Q6J("ngIf",!(null!=e.strategy&&e.strategy.isByTeams)))},directives:[p.L,i.O5,i.sg],pipes:[i.uU],styles:[".info-card[_ngcontent-%COMP%]{display:flex;padding:12px;align-items:center;grid-gap:12px;gap:12px;border-radius:6px;border:1px solid var(--gray-2,#758ca6);color:#3d5e81;text-align:center;font-family:Mulish;font-size:20px;font-style:normal;font-weight:400;line-height:normal}.team-progress-card[_ngcontent-%COMP%]{display:flex;padding:12px;align-items:flex-start;grid-gap:14px;gap:14px;border-radius:12px;border:2px solid var(--gray-2,#758ca6)}.team-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;grid-gap:12px;gap:12px}.team-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}.team-container[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], .team-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--gray-1,#3d5e81);font-family:Mulish;font-style:normal;font-weight:500;line-height:normal}.team-container[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{display:flex;padding:12px;flex-direction:column;align-items:flex-start;grid-gap:10px;gap:10px;border-radius:12px;background:var(--gray-3,#c1ccd7);text-align:center;font-size:16px}.team-container[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-self:stretch;justify-content:flex-start;align-items:center;height:48px;padding:6px 24px;border-radius:6px;background-color:#f6f7f8}.team-container[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.evaluation-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;flex-basis:150px;max-width:100%;grid-gap:14px;gap:14px;color:var(--blue-dark,#2369b5);font-family:Mulish;font-size:16px;font-style:normal;font-weight:500;line-height:normal}.evaluation-col[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]{display:flex;width:100%;padding:6px;align-items:center;justify-content:center;grid-gap:10px;gap:10px;border-radius:6px;border:1px solid var(--blue-1,#1081fb);color:var(--blue-1,#1081fb);font-size:12px}.evaluation-col[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:12px;padding:6px;border-radius:6px!important}"]}),t})();var Q=n(5709);const k=[{path:"",component:I}];let B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.u5,i.ez,r.A0,Q.w,s.UX,o.G,g.zk.forRoot(),a.Bz.forChild(k)]]}),t})()}}]);