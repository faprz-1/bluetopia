(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[506],{4506:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TypeTemplatesModule:()=>y});var a=i(1116),n=i(1892),s=i(3243),l=i(1041),o=i(6050),r=i(5470),c=i(7368),p=i(1392),m=i(407),u=i(6507);function d(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",8),c.NdJ("click",function(){const t=c.CHM(e).$implicit,i=c.oxw(),a=c.MAs(11);return i.selectedTemplate=t,i.OpenModal(a)}),c._UZ(1,"img",9),c.TgZ(2,"div",10),c._uU(3),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit;c.xp6(1),c.s9C("src","assets/icons/"+e.icon,c.LSH),c.xp6(2),c.hij(" ",e.nickname?e.nickname:e.name," ")}}function h(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"app-template-preview-modal",11),c.NdJ("onCloseModal",function(){return c.CHM(e),c.oxw().CloseModal()})("onUseTemplate",function(t){return c.CHM(e),c.oxw().CreateStrategyBasedOnTemplate(t)}),c.qZA()}if(2&e){const e=c.oxw();c.Q6J("template",e.selectedTemplate)}}let g=(()=>{class e{constructor(e,t,i,a){this.api=e,this.nav=t,this.modalService=i,this.activatedRoute=a,this.modalRef=null,this.templateType=null,this.selectedTemplate=null,this.grade=null,this.group=null,this.templateTypeId=0}ngOnInit(){this.GetParams()}GetParams(){this.activatedRoute.params.subscribe(e=>{this.grade=e.grade,this.group=e.group,this.templateTypeId=e.templateTypeId,this.GetTemplatesByType()})}OpenModal(e){this.modalRef=this.modalService.show(e,{backdrop:"static"})}CloseModal(){this.modalRef&&this.modalRef.hide()}GetTemplatesByType(){this.api.Get(`/TemplateTypes/${this.templateTypeId}/WithTemplates`).subscribe(e=>{this.templateType=e},e=>{console.error("Erro getting templates",e)})}GoBack(){this.nav.GoToUserRoute(`grado/${this.grade}/grupo/${this.group}/plantillas`)}CreateStrategyBasedOnTemplate(e){}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(p.sM),c.Y36(m.f),c.Y36(r.tT),c.Y36(n.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-type-templates"]],decls:12,vars:2,consts:[[1,"content"],[1,"title-row"],["src","assets/icons/back-arrow.png","alt","back",1,"clickeable",3,"click"],[1,"title"],[1,"d-flex","justify-content-center"],[1,"templates"],["class","template clickeable",3,"click",4,"ngFor","ngForOf"],["templatePreviewModal",""],[1,"template","clickeable",3,"click"],["alt","template-icon",1,"template-icon",3,"src"],[1,"template-name"],[3,"template","onCloseModal","onUseTemplate"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div"),c.TgZ(3,"img",2),c.NdJ("click",function(){return t.GoBack()}),c.qZA(),c.qZA(),c.TgZ(4,"div",3),c._uU(5),c.qZA(),c._UZ(6,"div"),c.qZA(),c.TgZ(7,"div",4),c.TgZ(8,"div",5),c.YNc(9,d,4,2,"div",6),c.qZA(),c.qZA(),c.qZA(),c.YNc(10,h,1,1,"ng-template",null,7,c.W1O)),2&e&&(c.xp6(5),c.hij(" ",null==t.templateType?null:t.templateType.name," "),c.xp6(4),c.Q6J("ngForOf",null==t.templateType?null:t.templateType.templates))},directives:[a.sg,u.f],styles:[".title-row[_ngcontent-%COMP%]{display:flex;height:auto;justify-content:space-between;align-items:center}.title[_ngcontent-%COMP%]{margin-bottom:0}.templates[_ngcontent-%COMP%]{justify-self:center;display:flex;max-width:900px;flex-wrap:wrap;justify-content:space-around;margin-top:2rem}.template[_ngcontent-%COMP%]{display:flex;width:220px;justify-content:center;align-items:center;flex-direction:column;background-color:#f4f5f7;padding:27px 1rem;border-radius:6px;height:200px;margin:2rem 1rem}.template-icon[_ngcontent-%COMP%]{width:-webkit-min-content;width:min-content}.template-name[_ngcontent-%COMP%]{margin-top:10px;color:#1081fb;font-size:1.5rem;font-weight:700;line-height:30px;text-align:center}"]}),e})();var f=i(882);const T=[{path:"",component:g}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[l.u5,a.ez,s.A0,l.UX,o.G,r.zk.forRoot(),f.c,n.Bz.forChild(T)]]}),e})()},407:(e,t,i)=>{"use strict";i.d(t,{f:()=>l});var a=i(7368),n=i(1892),s=i(1392);let l=(()=>{class e{constructor(e,t){this.router=e,this.api=t,this.user=null}HasInitialSlash(e){return!!e&&"/"==e.charAt(0)}GoToUserRoute(e){this.user=this.api.GetUser(),this.user&&(this.user&&this.user.role&&!e.includes(this.user.role.name.toLowerCase())?this.router.navigate([`/inicio/${this.user.role.name.toLowerCase()}${this.HasInitialSlash(e)?"":"/"}${e}`]):this.router.navigate([`${this.HasInitialSlash(e)?"":"/"}${e}`]))}GoTo(e){this.router.navigate([`${this.HasInitialSlash(e)?"":"/"}${e}`])}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(n.F0),a.LFG(s.sM))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);