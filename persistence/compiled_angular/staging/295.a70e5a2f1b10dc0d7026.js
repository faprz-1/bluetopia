(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[295],{9295:(e,t,s)=>{"use strict";s.r(t),s.d(t,{TemplateFormModule:()=>j});var i=s(1116),n=s(1892),c=s(3243),r=s(1041),o=s(6050),a=s(5470),l=s(7368),g=s(1392),u=s(407);const b=function(e){return{"active-tab":e}};function d(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",17),l.NdJ("click",function(){const t=l.CHM(e).$implicit;return l.oxw().SelectTab(t)}),l.TgZ(1,"span",18),l._uU(2),l.qZA(),l._UZ(3,"img",19),l.qZA()}if(2&e){const e=t.$implicit,s=l.oxw();l.Q6J("ngClass",l.VKq(2,b,e==s.selectedTab)),l.xp6(2),l.hij(" ",e.name," ")}}function p(e,t){if(1&e&&(l.TgZ(0,"div",27),l.TgZ(1,"span"),l._uU(2),l.qZA(),l._UZ(3,"img",28),l.qZA()),2&e){const e=t.$implicit;l.xp6(2),l.Oqu(e.name)}}function h(e,t){if(1&e&&(l.TgZ(0,"div",27),l.TgZ(1,"span"),l._uU(2),l.qZA(),l._UZ(3,"img",28),l.qZA()),2&e){const e=t.$implicit;l.xp6(2),l.Oqu(e.name)}}const m=function(e){return{"d-none":e}};function f(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",20),l.TgZ(1,"div",8),l.TgZ(2,"label"),l._uU(3,"Selecciona los objetivos de la SEP que buscas abordar en tu estrategia"),l.qZA(),l.TgZ(4,"div",9),l.TgZ(5,"ng-select",21,22),l.NdJ("change",function(t){const s=l.CHM(e).$implicit,i=l.MAs(6);return l.oxw().OnObjectiveSelected(s,t),i.handleClearClick()}),l.qZA(),l.qZA(),l.TgZ(7,"div",23),l.YNc(8,p,4,1,"div",24),l.qZA(),l.qZA(),l.TgZ(9,"div",8),l.TgZ(10,"label"),l._uU(11,"Selecciona las competencias que buscas abordar en tu estrategia"),l.qZA(),l.TgZ(12,"div",9),l.TgZ(13,"ng-select",25,26),l.NdJ("change",function(t){const s=l.CHM(e).$implicit,i=l.MAs(14);return l.oxw().OnSkillSelected(s,t),i.handleClearClick()}),l.qZA(),l.qZA(),l.TgZ(15,"div",23),l.YNc(16,h,4,1,"div",24),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit,s=l.oxw();l.Q6J("ngClass",l.VKq(5,m,e!=s.selectedTab)),l.xp6(5),l.Q6J("items",s.sepObjectives),l.xp6(3),l.Q6J("ngForOf",e.sepObjectives),l.xp6(5),l.Q6J("items",s.skills),l.xp6(3),l.Q6J("ngForOf",e.skills)}}function Z(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",29),l.NdJ("click",function(){return l.CHM(e),l.oxw().CreateNewProyect()}),l._uU(1," Continuar "),l.qZA()}}const v=[{path:"",component:(()=>{class e{constructor(e,t,s){this.api=e,this.activatedRoute=t,this.nav=s,this.selectedTab=null,this.teacherSubjects=[],this.selectedSubjects=[],this.sepObjectives=[],this.skills=[]}ngOnInit(){this.user=this.api.GetUser(),this.GetParams()}GoBack(){this.nav.GoToUserRoute(`grado/${this.grade}/grupo/${this.group}/plantillas`)}GetParams(){this.activatedRoute.params.subscribe(e=>{this.grade=e.grade,this.group=e.group,this.templateId=e.templateId,this.GetTeacherSubjects(),this.GetSepObjectives(),this.GetSkills()})}GetTeacherSubjects(){this.api.Get("/Subjects").subscribe(e=>{this.teacherSubjects=e},e=>{console.error("Error getting teacher subjects",e)})}GetSepObjectives(){this.api.Get("/SepObjectives").subscribe(e=>{this.sepObjectives=e},e=>{console.error("Error getting sep objectives",e)})}GetSkills(){this.api.Get("/Skills").subscribe(e=>{this.skills=e},e=>{console.error("Error getting skills",e)})}OnSelectedSubjectsChange(e){this.selectedTab=e[e.length-1]}OnObjectiveSelected(e,t){t&&(e.sepObjectives&&Array.isArray(e.sepObjectives)?e.sepObjectives.push(t):e.sepObjectives=[t])}OnSkillSelected(e,t){t&&(e.skills&&Array.isArray(e.skills)?e.skills.push(t):e.skills=[t])}SelectTab(e){this.selectedTab=e}CreateNewProyect(){this.nav.GoToUserRoute(`grado/${this.grade}/grupo/${this.group}/plantillas/${this.templateId}/proyecto/1`)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(g.sM),l.Y36(n.gz),l.Y36(u.f))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-template-form"]],decls:21,vars:7,consts:[[1,"content"],[1,"row-header"],[1,"d-flex","justify-content-between"],[1,"back-section"],["src","assets/icons/back-arrow.png","alt","back-arrow",1,"back-icon","clickeable",3,"click"],[1,"form-section"],[1,"title"],[1,"subtitle","text-uppercase"],[1,"text"],[1,"input-container"],["bindLabel","name","placeholder","Asignaturas",1,"form-control","with-border",3,"items","multiple","ngModel","change","ngModelChange"],[1,"subjects-forms"],[1,"subjects-tabs"],["class","subject-tab clickeable",3,"ngClass","click",4,"ngFor","ngForOf"],["class","subject-form mb-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"controls","mb-5"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"subject-tab","clickeable",3,"ngClass","click"],[1,"mr-2"],["src","assets/icons/close-circle.png","alt","eliminar",1,"clickeable"],[1,"subject-form","mb-5",3,"ngClass"],["bindLabel","name","placeholder","Objetivos",1,"form-control","with-border",3,"items","change"],["objectivesSelect",""],[1,"list"],["class","list-item",4,"ngFor","ngForOf"],["bindLabel","name","placeholder","Competencias",1,"form-control","with-border",3,"items","change"],["skillsSelect",""],[1,"list-item"],["src","assets/icons/close-circle.png","alt","close.png",1,"clickeable"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"img",4),l.NdJ("click",function(){return t.GoBack()}),l.qZA(),l.qZA(),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l._uU(7," Proyectos "),l.qZA(),l.TgZ(8,"div",7),l._uU(9),l.qZA(),l.TgZ(10,"div",8),l.TgZ(11,"label"),l._uU(12,"Selecciona la o las asignaturas"),l.qZA(),l.TgZ(13,"div",9),l.TgZ(14,"ng-select",10),l.NdJ("change",function(e){return t.OnSelectedSubjectsChange(e)})("ngModelChange",function(e){return t.selectedSubjects=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"div",11),l.TgZ(16,"div",12),l.YNc(17,d,4,4,"div",13),l.qZA(),l.YNc(18,f,17,7,"div",14),l.qZA(),l.qZA(),l.TgZ(19,"div",15),l.YNc(20,Z,2,0,"button",16),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(9),l.hij(" ",t.grade+"\xb0"+t.group," "),l.xp6(5),l.Q6J("items",t.teacherSubjects)("multiple",!0)("ngModel",t.selectedSubjects),l.xp6(3),l.Q6J("ngForOf",t.selectedSubjects),l.xp6(1),l.Q6J("ngForOf",t.selectedSubjects),l.xp6(2),l.Q6J("ngIf",null==t.selectedSubjects?null:t.selectedSubjects.length))},directives:[c.w9,r.JJ,r.On,i.sg,i.O5,i.mk],styles:[".back-icon[_ngcontent-%COMP%]{margin-right:4rem}.title[_ngcontent-%COMP%]{color:#587594;font-size:1.75rem;font-weight:700;margin-bottom:.6rem}.subtitle[_ngcontent-%COMP%]{color:#587594;font-size:1.5rem;font-weight:500;margin-bottom:.75rem}.text[_ngcontent-%COMP%]{font-size:1.25rem;color:#587594}.subjects-tabs[_ngcontent-%COMP%]{display:flex;margin-bottom:.75rem}.subject-tab[_ngcontent-%COMP%]{border:2px solid #587594;padding:.5rem 1rem;margin-right:1.25rem;border-radius:6px 6px 0 0}.active-tab[_ngcontent-%COMP%]{background-color:#587594;color:#fff}.form-section[_ngcontent-%COMP%]{margin-right:2rem;width:100%}.subject-form[_ngcontent-%COMP%]{border:2px solid #587594;border-radius:6px;padding:1.5rem 3rem;background-color:#f6f7f8}.list-item[_ngcontent-%COMP%]{display:flex;width:100%;height:3rem;justify-content:space-between;align-items:center;background-color:#fff;margin-bottom:.75rem;padding:0 1rem;color:#003169;font-size:1.125rem;font-weight:500}.controls[_ngcontent-%COMP%]{margin:auto auto 0}.btn[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;padding:1rem 4rem}"]}),e})()}];let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.u5,i.ez,c.A0,r.UX,o.G,a.zk.forRoot(),n.Bz.forChild(v)]]}),e})()},407:(e,t,s)=>{"use strict";s.d(t,{f:()=>r});var i=s(7368),n=s(1892),c=s(1392);let r=(()=>{class e{constructor(e,t){this.router=e,this.api=t,this.user=null}HasInitialSlash(e){return!!e&&"/"==e.charAt(0)}GoToUserRoute(e){this.user=this.api.GetUser(),this.user&&(this.user&&this.user.role&&!e.includes(this.user.role.name.toLowerCase())?this.router.navigate([`/inicio/${this.user.role.name.toLowerCase()}${this.HasInitialSlash(e)?"":"/"}${e}`]):this.router.navigate([`${this.HasInitialSlash(e)?"":"/"}${e}`]))}GoTo(e){this.router.navigate([`${this.HasInitialSlash(e)?"":"/"}${e}`])}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(n.F0),i.LFG(c.sM))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);