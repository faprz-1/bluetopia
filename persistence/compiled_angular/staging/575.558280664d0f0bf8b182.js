(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[575],{4575:(t,e,n)=>{"use strict";n.r(e),n.d(e,{StrategiesModule:()=>q});var r=n(1116),i=n(2894),o=n(4391),s=n(1041),a=n(6050),c=n(5470),l=n(7368),g=n(1392),u=n(407);function d(t,e){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&t){const t=e.$implicit,n=e.last;l.xp6(1),l.hij(" ",n?t.name:t.name+", "," ")}}function p(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",34),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit;return l.oxw(2).GoToEdit(e)}),l._uU(1," Editar "),l.qZA()}}function Z(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit;return l.oxw(2).GoToTeams(e)}),l._uU(1," Equipos "),l.qZA()}}function h(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit;return l.oxw(2).GoToTeamsProgress(e)}),l._uU(1," Progreso de equpos "),l.qZA()}}function m(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",21),l.TgZ(1,"div",22),l.TgZ(2,"div",23),l.TgZ(3,"h2",24),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",25),l.TgZ(6,"div",26),l.TgZ(7,"label"),l._uU(8,"T\xedtulo"),l.qZA(),l.TgZ(9,"div",27),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"div",26),l.TgZ(12,"label"),l._uU(13,"Pregunta generadora"),l.qZA(),l.TgZ(14,"div",27),l._uU(15),l.qZA(),l.qZA(),l.TgZ(16,"div",26),l.TgZ(17,"label"),l._uU(18,"Plantilla"),l.qZA(),l.TgZ(19,"div",27),l._uU(20),l.qZA(),l.qZA(),l.TgZ(21,"div",26),l.TgZ(22,"label"),l._uU(23,"Materias"),l.qZA(),l.TgZ(24,"div",27),l.YNc(25,d,2,1,"span",28),l.qZA(),l.qZA(),l.TgZ(26,"div",26),l.TgZ(27,"label"),l._uU(28,"Grupo"),l.qZA(),l.TgZ(29,"div",27),l.TgZ(30,"div",29),l._uU(31),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",30),l.YNc(33,p,2,0,"button",31),l.YNc(34,Z,2,0,"button",32),l.YNc(35,h,2,0,"button",32),l.TgZ(36,"button",33),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).GoToCalendar(e)}),l._uU(37," Calendario "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(4),l.Oqu(t.topic),l.xp6(6),l.Oqu(t.title),l.xp6(5),l.Oqu(t.generatingQuestion),l.xp6(5),l.Oqu(null==t.template?null:t.template.name),l.xp6(5),l.Q6J("ngForOf",t.subjects),l.xp6(6),l.AsE("",null==t.strategyGroup||null==t.strategyGroup.grade?null:t.strategyGroup.grade.name,"",null==t.strategyGroup||null==t.strategyGroup.group?null:t.strategyGroup.group.name,""),l.xp6(2),l.Q6J("ngIf",!(null!=t.teams&&t.teams.length)),l.xp6(1),l.Q6J("ngIf",!(null!=t.teams&&t.teams.length)),l.xp6(1),l.Q6J("ngIf",!(null==t.teams||!t.teams.length))}}function f(t,e){if(1&t&&(l.TgZ(0,"div",5),l.YNc(1,m,38,10,"div",20),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.strategies)}}function b(t,e){1&t&&(l.TgZ(0,"div",36),l._uU(1," No tiene estrategias creadas, cree una nueva estrategia "),l.qZA())}const T=[{path:"",component:(()=>{class t{constructor(t,e){this.api=t,this.nav=e,this.user=null,this.startegyStatuses=[],this.grades=[],this.groups=[],this.gradeSelected=null,this.groupSelected=null,this.strategies=[],this.loading={}}ngOnInit(){this.user=this.api.GetUser(),this.GetStrategyStatuses(),this.GetGrades()}GetStrategyStatuses(){this.api.Get("/StrategyStatuses").subscribe(t=>{this.startegyStatuses=t},t=>{console.error("Error statuses",t)})}GetGrades(){this.loading.getting=!0,this.api.Get("/Grades").subscribe(t=>{this.grades=t,this.gradeSelected=this.grades.length?this.grades[0]:null,this.GetGroups()},t=>{console.error("Error getting grades",t),this.loading.getting=!1})}GetGroups(){this.api.Get("/Groups").subscribe(t=>{this.groups=t,this.groupSelected=this.groups.length?this.groups[0]:null,this.GetStrategies()},t=>{console.error("Error getting groups",t),this.loading.getting=!1})}GetStrategies(){let t;switch(this.user.role.name){case"School":t=`/Strategies/OfSchool/${this.user?this.user.id:0}`;break;case"Teacher":t=`/Strategies/OfTeacher/${this.user?this.user.id:0}`;break;default:t=""}this.api.Get(t).subscribe(t=>{this.strategies=t},t=>{console.error("Erro getting teacher strategies",t)})}GoToTeams(t){this.nav.GoToUserRoute(`mis-estrategias/${t.id}/equipos`)}GoToTeamsProgress(t){this.nav.GoToUserRoute(`mis-estrategias/${t.id}/progreso-equipos`)}GoToCalendar(t){this.nav.GoToUserRoute(`estrategias/${t.id}/calendario`)}GoToEdit(t){this.nav.GoToUserRoute(`plantillas/${t.templateId}/crear/${t.id}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(g.sM),l.Y36(u.f))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-strategies"]],decls:25,vars:8,consts:[[1,"content"],[1,"row","mb-5"],[1,"col-12","d-flex","h-100","align-items-center","justify-content-between","header-col"],[1,"page-title"],[1,"btn","btn-primary",3,"click"],[1,"row"],[1,"col-12","d-flex","align-items-center","filters","mb-4"],[1,"flex-grow-1","filter"],[1,"input-container"],[1,"input-icon-container","icon-container-right","text-center"],["src","assets/icons/search-small.png"],["type","text","placeholder","Buscar",1,"form-control","icon-right"],[1,"select-container","filter"],["bindLabel","name","placeholder","Grado",1,"ng-select","form-control",3,"items","ngModel","change","ngModelChange"],["bindLabel","name","placeholder","Grupo",1,"ng-select","form-control",3,"items","ngModel","change","ngModelChange"],[1,"select-container","big","filter"],["bindLabel","name","placeholder","Tipo de estrategia",1,"ng-select","form-control","placeholder-primary",3,"items"],["bindLabel","name","placeholder","Estado de estrategia",1,"ng-select","form-control","placeholder-primary",3,"items"],["class","row",4,"ngIf","ngIfElse"],["noStrategies",""],["class","col-12 col-md-6 col-lg-4 mb-1",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","mb-1"],[1,"card","py-3","px-2"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"info"],[1,"text"],[4,"ngFor","ngForOf"],[1,"text","text-uppercase"],[1,"flex-column","align-items-center","justify-content-between","mt-3"],["class","btn btn-outline-success btn-block",3,"click",4,"ngIf"],["class","btn btn-primary btn-block",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary","btn-block",3,"click"],[1,"btn","btn-outline-success","btn-block",3,"click"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"text-center","no-items-message"]],template:function(t,e){if(1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l._uU(4," Mis estrategias "),l.qZA(),l.TgZ(5,"button",4),l.NdJ("click",function(){return e.nav.GoToUserRoute("plantillas")}),l._uU(6," Crear nueva estrategia "),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",5),l.TgZ(8,"div",6),l.TgZ(9,"div",7),l.TgZ(10,"div",8),l.TgZ(11,"div",9),l._UZ(12,"img",10),l.qZA(),l._UZ(13,"input",11),l.qZA(),l.qZA(),l.TgZ(14,"div",12),l.TgZ(15,"ng-select",13),l.NdJ("change",function(){return e.GetStrategies()})("ngModelChange",function(t){return e.gradeSelected=t}),l.qZA(),l.qZA(),l.TgZ(16,"div",12),l.TgZ(17,"ng-select",14),l.NdJ("change",function(){return e.GetStrategies()})("ngModelChange",function(t){return e.groupSelected=t}),l.qZA(),l.qZA(),l.TgZ(18,"div",15),l._UZ(19,"ng-select",16),l.qZA(),l.TgZ(20,"div",15),l._UZ(21,"ng-select",17),l.qZA(),l.qZA(),l.qZA(),l.YNc(22,f,2,1,"div",18),l.qZA(),l.YNc(23,b,2,0,"ng-template",null,19,l.W1O)),2&t){const t=l.MAs(24);l.xp6(15),l.Q6J("items",e.grades)("ngModel",e.gradeSelected),l.xp6(2),l.Q6J("items",e.groups)("ngModel",e.groupSelected),l.xp6(2),l.Q6J("items",e.startegyStatuses),l.xp6(2),l.Q6J("items",e.startegyStatuses),l.xp6(1),l.Q6J("ngIf",!!e.strategies.length)("ngIfElse",t)}},directives:[o.w9,s.JJ,s.On,r.O5,r.sg],styles:[".page-title[_ngcontent-%COMP%]{color:#3d5e81;font-size:24px;font-family:Mulish;font-weight:700}.card[_ngcontent-%COMP%]{border:2px solid var(--primary);border-radius:6px;box-shadow:3px 2px 4px 2px #cacaca}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border:none;background-color:#fff}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--primary);text-align:center;font-size:1.5rem;font-weight:700}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-bottom:.5rem}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--primary);font-size:1.25rem;font-weight:600;margin-bottom:0}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#000;font-size:1.1rem}"]}),t})()}];let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.u5,r.ez,o.A0,s.UX,a.G,c.zk.forRoot(),i.Bz.forChild(T)]]}),t})()}}]);