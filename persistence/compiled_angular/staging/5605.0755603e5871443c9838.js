(self.webpackChunktemplate_web=self.webpackChunktemplate_web||[]).push([[5605],{6327:(t,e,n)=>{"use strict";n.d(e,{L:()=>v});var i=n(7368),o=n(1116),a=n(1041),r=n(4391);function l(t,e){if(1&t&&(i.TgZ(0,"div",7),i.TgZ(1,"div",8),i.TgZ(2,"input",12),i.NdJ("ngModelChange",function(t){return e.$implicit.value=t}),i.qZA(),i.qZA(),i.TgZ(3,"textarea",13),i.NdJ("ngModelChange",function(t){return e.$implicit.description=t}),i.qZA(),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(3);i.xp6(2),i.Q6J("disabled",!n.canEdit)("ngModel",t.value),i.xp6(1),i.Q6J("disabled",!n.canEdit)("ngModel",t.description)}}function c(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",14),i.TgZ(1,"img",15),i.NdJ("click",function(){return i.CHM(t),i.oxw(3).AddCol()}),i.qZA(),i.TgZ(2,"img",16),i.NdJ("click",function(){return i.CHM(t),i.oxw(3).RemoveCol()}),i.qZA(),i.qZA()}}function s(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",6),i.TgZ(2,"div",7),i.TgZ(3,"div",8),i._uU(4,"Valor"),i.qZA(),i.TgZ(5,"textarea",9),i.NdJ("ngModelChange",function(t){return e.$implicit.description=t}),i.qZA(),i.qZA(),i.YNc(6,l,4,4,"div",10),i.YNc(7,c,3,0,"div",11),i.qZA(),i.qZA()),2&t){const t=e.$implicit,n=e.last,o=i.oxw(2);i.xp6(5),i.Q6J("disabled",!o.canEdit)("ngModel",t.description),i.xp6(1),i.Q6J("ngForOf",t.concepts),i.xp6(1),i.Q6J("ngIf",n&&o.showControls)}}function u(t,e){1&t&&i._UZ(0,"div",20)}function d(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.YNc(1,u,1,0,"div",17),i.TgZ(2,"div",18),i.TgZ(3,"div",19),i.TgZ(4,"img",15),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).AddRow()}),i.qZA(),i.TgZ(5,"img",16),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).RemoveRow()}),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",null==t.rubrics[0]?null:t.rubrics[0].concepts)}}function g(t,e){if(1&t&&(i.TgZ(0,"div",2),i.YNc(1,s,8,4,"div",3),i.TgZ(2,"div",4),i.YNc(3,d,6,1,"div",5),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.rubrics),i.xp6(2),i.Q6J("ngIf",t.showControls)}}function p(t,e){if(1&t&&(i.TgZ(0,"ng-option",28),i._uU(1),i.qZA()),2&t){const t=e.$implicit;i.Q6J("value",t),i.xp6(1),i.hij(" ",t.value," ")}}function m(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",25),i._uU(2),i.qZA(),i.TgZ(3,"div",25),i._uU(4),i.qZA(),i.TgZ(5,"div",24),i.TgZ(6,"ng-select",26),i.NdJ("ngModelChange",function(t){return e.$implicit.conceptSelected=t})("change",function(e){const n=i.CHM(t).$implicit;return i.oxw(2).OnRubricValueSelected(n,e)}),i.YNc(7,p,2,2,"ng-option",27),i.qZA(),i.qZA(),i.BQk()}if(2&t){const t=e.$implicit;i.xp6(2),i.hij(" ",t.description," "),i.xp6(2),i.hij(" ",null!=t.conceptSelected&&t.conceptSelected.description?null==t.conceptSelected?null:t.conceptSelected.description:"Seleccione un valor"," "),i.xp6(2),i.Q6J("clearable",!1)("ngModel",t.conceptSelected),i.xp6(1),i.Q6J("ngForOf",t.concepts)}}function f(t,e){if(1&t&&(i.TgZ(0,"div",21),i.TgZ(1,"div",22),i.TgZ(2,"div",23),i.TgZ(3,"div",24),i.TgZ(4,"div",8),i._uU(5,"Valor"),i.qZA(),i.qZA(),i.TgZ(6,"div",24),i.TgZ(7,"div",8),i._uU(8,"Descripci\xf3n"),i.qZA(),i.qZA(),i.TgZ(9,"div",24),i.TgZ(10,"div",8),i._uU(11,"Valor num\xe9rico"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",22),i.TgZ(13,"div",23),i.YNc(14,m,8,5,"ng-container",3),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(14),i.Q6J("ngForOf",t.rubrics)}}let v=(()=>{class t{constructor(){this.onReset=null,this.setEvaluations=null,this.evaluationMode=!1,this.canEdit=!0,this.showControls=!0,this.rubrics=[{description:"",concepts:[]}],this.exportRubrics=new i.vpe,this.onEvaluation=new i.vpe,this.subscriptions=[]}ngOnInit(){this.onReset&&this.subscriptions.push(this.onReset.subscribe(()=>{this.ExportRubrics()})),this.setEvaluations&&this.subscriptions.push(this.setEvaluations.subscribe(t=>{(null==t?void 0:t.length)&&this.rubrics.forEach((e,n)=>{e.conceptSelected=e.concepts.find(e=>e.value==t[n])})})),this.rubrics?this.rubrics.length||this.rubrics.push({description:"",concepts:[]}):this.rubrics=[{description:"",concepts:[]}],setTimeout(()=>{this.ExportRubrics()},500)}AddRow(){this.canEdit&&this.rubrics.push({description:"",concepts:this.rubrics[0].concepts.map(t=>Object.assign({},t))})}RemoveRow(){this.canEdit&&1!=this.rubrics.length&&this.rubrics.pop()}AddCol(){if(!this.canEdit)return;const t=this.rubrics[0].concepts.length+1;this.rubrics.forEach(e=>{e.concepts.unshift({value:t,description:""})})}RemoveCol(){this.canEdit&&1!=this.rubrics[0].concepts.length&&this.rubrics.forEach(t=>{t.concepts.shift()})}ExportRubrics(){this.exportRubrics.emit(this.rubrics)}OnRubricValueSelected(t,e){t.conceptSelected=e;let n=0,i=0;this.rubrics.forEach(t=>{let e=0;t.concepts.forEach(t=>{e=Math.max(e,t.value)}),i+=t.conceptSelected?t.conceptSelected.value:0,n+=e}),this.onEvaluation.emit({maxCalification:n,calification:i,rubricsCalifications:this.rubrics.map(t=>{})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-rubric"]],inputs:{onReset:"onReset",setEvaluations:"setEvaluations",evaluationMode:"evaluationMode",canEdit:"canEdit",showControls:"showControls",rubrics:"rubrics"},outputs:{exportRubrics:"exportRubrics",onEvaluation:"onEvaluation"},decls:2,vars:2,consts:[["class","rubric",4,"ngIf"],["class","row w-100 evaluation-mode",4,"ngIf"],[1,"rubric"],[4,"ngFor","ngForOf"],[1,"aling-bottom"],[4,"ngIf"],[1,"rubric-row"],[1,"rubric-item"],[1,"rubric-title"],["placeholder","Rubro",1,"rubric-input",3,"disabled","ngModel","ngModelChange"],["class","rubric-item",4,"ngFor","ngForOf"],["class","controls vertical",4,"ngIf"],["type","text",3,"disabled","ngModel","ngModelChange"],["placeholder","Descripci\xf3n",1,"rubric-input",3,"disabled","ngModel","ngModelChange"],[1,"controls","vertical"],["src","assets/icons/add-circle.png","alt","add",1,"clickeable",3,"click"],["src","assets/icons/remove-circle.png","alt","add",1,"clickeable",3,"click"],["class","rubric-item","style","opacity: 0;",4,"ngFor","ngForOf"],[1,"rubric-col"],[1,"controls","horizontal"],[1,"rubric-item",2,"opacity","0"],[1,"row","w-100","evaluation-mode"],[1,"col-12"],[1,"row"],[1,"col-4","mb-2"],[1,"col-4","mb-2","evaluation-card"],["placeholder","Valor",1,"form-control","with-border",3,"clearable","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(i.YNc(0,g,4,2,"div",0),i.YNc(1,f,15,1,"div",1)),2&t&&(i.Q6J("ngIf",!e.evaluationMode),i.xp6(1),i.Q6J("ngIf",e.evaluationMode))},directives:[o.O5,o.sg,a.Fj,a.JJ,a.On,r.w9,r.xv],styles:["@media (max-width:2560px){.rubric-row[_ngcontent-%COMP%]{grid-template-columns:repeat(10,minmax(150px,1fr))}.aling-bottom[_ngcontent-%COMP%]{margin-left:900px}}@media (max-width:1440px){.rubric-row[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(150px,1fr))}.aling-bottom[_ngcontent-%COMP%]{margin-left:400px}}@media (max-width:1024px){.rubric-row[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(150px,1fr))}.aling-bottom[_ngcontent-%COMP%]{margin-left:300px}}.rubric[_ngcontent-%COMP%]   .rubric-row[_ngcontent-%COMP%]{display:grid;grid-gap:1.5rem;max-width:150px}.rubric[_ngcontent-%COMP%]   .rubric-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-radius:6px;overflow:hidden;width:150px;min-width:150px}.rubric[_ngcontent-%COMP%]   .rubric-title[_ngcontent-%COMP%]{width:100%;text-align:center;color:#587594;background-color:#d3e8ff;padding:.75rem}.rubric[_ngcontent-%COMP%]   .rubric-input[_ngcontent-%COMP%]{color:#587594;background-color:#e8f3ff;border:none;resize:none;width:100%;height:6rem;padding:.5rem;font-size:1rem;text-align:center}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center}.controls[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.25rem}.horizontal[_ngcontent-%COMP%]{width:150px}.vertical[_ngcontent-%COMP%]{flex-direction:column}.vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:-webkit-min-content;width:min-content}.rubric-title[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#587594;width:100%;border:none;text-align:center;background:transparent}.evaluation-mode[_ngcontent-%COMP%]{color:var(--Gray-1,#3d5e81);font-family:Mulish;font-size:20px;font-weight:500;font-style:normal;line-height:normal}.evaluation-mode[_ngcontent-%COMP%]   .rubric-title[_ngcontent-%COMP%]{background-color:none;font-weight:700}.evaluation-card[_ngcontent-%COMP%]{display:flex;padding:10px;justify-content:center;align-items:center;grid-gap:10px;gap:10px;align-self:stretch}"]}),t})()},2496:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var i=n(1116),o=n(4391),a=n(1041),r=n(6050),l=n(5470),c=(n(6327),n(7368));let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.u5,i.ez,o.A0,a.UX,r.G,l.zk.forRoot()]]}),t})()},5605:(t,e,n)=>{"use strict";n.r(e),n.d(e,{GradeProductModule:()=>N});var i=n(1116),o=n(2894),a=n(4391),r=n(1041),l=n(6050),c=n(5470),s=n(7368),u=n(5821),d=n(1392),g=n(407),p=n(6189),m=n(2722),f=n(4792),v=n(6327);function h(t,e){if(1&t&&(s.TgZ(0,"div",35),s._UZ(1,"img",36),s.TgZ(2,"span",37),s._uU(3),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(3),s.Oqu(t.BuildStudentFullName(t.student))}}function x(t,e){if(1&t&&(s.ynx(0),s.TgZ(1,"div",45),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.qZA(),s.BQk()),2&t){const t=e.$implicit,n=s.oxw(3);s.xp6(3),s.hij(" ",n.BuildStudentFullName(t.student)," ")}}function b(t,e){if(1&t&&(s.ynx(0),s.TgZ(1,"div",45),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.qZA(),s.BQk()),2&t){const t=e.$implicit;s.xp6(3),s.hij(" ",null!=t.role&&t.role.name?null==t.role?null:t.role.name:"Sin rol"," ")}}function Z(t,e){if(1&t&&(s.TgZ(0,"div",41),s.TgZ(1,"div",42),s.TgZ(2,"div",43),s.YNc(3,x,4,1,"ng-container",44),s.qZA(),s.TgZ(4,"div",43),s.YNc(5,b,4,1,"ng-container",44),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw(2);s.xp6(3),s.Q6J("ngForOf",null==t.team?null:t.team.members),s.xp6(2),s.Q6J("ngForOf",null==t.team?null:t.team.members)}}function w(t,e){if(1&t&&(s.TgZ(0,"div",38),s.TgZ(1,"div",39),s._uU(2),s.qZA(),s.YNc(3,Z,6,2,"div",40),s.qZA()),2&t){const t=s.oxw();s.xp6(2),s.Oqu(null==t.team?null:t.team.name),s.xp6(1),s.Q6J("ngIf",!(null==t.team||null==t.team.members||!t.team.members.length))}}function y(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",46),s.TgZ(1,"div",47),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().DownloadResource(e)}),s.TgZ(2,"div",48),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"div",49),s.TgZ(5,"div",50),s._uU(6,"Subido por"),s.qZA(),s.TgZ(7,"div"),s._uU(8),s.qZA(),s.qZA(),s.TgZ(9,"div",49),s.TgZ(10,"div",50),s._uU(11,"Entregado el d\xeda"),s.qZA(),s.TgZ(12,"div"),s._uU(13),s.ALo(14,"date"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,n=s.oxw();s.xp6(3),s.hij(" ",t.name," "),s.xp6(5),s.Oqu(n.BuildStudentFullName(t.owner)),s.xp6(5),s.Oqu(s.xi3(14,3,t.uploaded,"dd/MM/yyyy"))}}function C(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"app-rubric",53),s.NdJ("onEvaluation",function(e){return s.CHM(t),s.oxw(2).OnRubricsEvaluateRubric(e)}),s.qZA()}if(2&t){const t=s.oxw(2);s.Q6J("rubrics",t.parcialProduct.rubric)("evaluationMode",!0)("setEvaluations",t.setRubricsEvaluations)}}function A(t,e){if(1&t&&(s.TgZ(0,"div",51),s.YNc(1,C,1,3,"app-rubric",52),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",!!t.parcialProduct)}}function M(t,e){if(1&t&&(s.TgZ(0,"div"),s.TgZ(1,"div",54),s.TgZ(2,"div",55),s._uU(3," Valor num\xe9rico "),s.qZA(),s.TgZ(4,"div",56),s.TgZ(5,"div",57),s._UZ(6,"input",58),s.qZA(),s.TgZ(7,"span"),s._uU(8,"sobre"),s.qZA(),s.TgZ(9,"span"),s._uU(10),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(10),s.Oqu(null==t.parcialProduct?null:t.parcialProduct.maxCalification)}}function T(t,e){if(1&t&&(s.TgZ(0,"div",61),s.TgZ(1,"div",62),s._uU(2),s.qZA(),s.TgZ(3,"textarea",63),s.NdJ("ngModelChange",function(t){return e.$implicit.comment=t}),s.qZA(),s.qZA()),2&t){const t=e.$implicit,n=s.oxw(2);s.xp6(2),s.hij(" ",n.BuildStudentFullName(t.student)," "),s.xp6(1),s.Q6J("ngModel",t.comment)}}function q(t,e){if(1&t&&(s.TgZ(0,"div",23),s.TgZ(1,"span",24),s._uU(2,"3"),s.qZA(),s.TgZ(3,"div",25),s.TgZ(4,"div",26),s._uU(5," Agregar comentario a alg\xfan miembro del equipo "),s.qZA(),s.TgZ(6,"div",59),s.YNc(7,T,4,2,"div",60),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(7),s.Q6J("ngForOf",null==t.team?null:t.team.members)}}let O=(()=>{class t{constructor(t,e,n,i,o){this.activatedRoute=t,this.api=e,this.nav=n,this.toast=i,this.downloadService=o,this.setRubricsEvaluations=new s.vpe,this.strategy=null,this.student=null,this.team=null,this.parcialProduct=null,this.studentFiles=[],this.rubricsCalifications=[],this.crumbs=[{name:"Evaluar",route:null}],this.evaluationForm=new r.cw({calification:new r.NI(null,[u.R.CheckOnlyNumbers]),rubricsCalifications:new r.NI(null,[]),comment:new r.NI(null,[])})}ngOnInit(){this.GetParams()}BuildStudentFullName(t){return t?`${t.name} ${t.fatherLastname} ${t.motherLastname}`:""}CalculateNumericCalification(t,e){let n=0;return t&&e&&(n=100/t*e),Number.isNaN(n)?0:n}GetParams(){this.activatedRoute.params.subscribe(t=>{this.strategyId=t.strategyId,this.studentId=t.studentId,this.teamId=t.teamId,this.parcialProductId=t.parcialProductId,this.crumbs[0].route=`/mis-estrategias/${this.strategyId}/progreso-equipos`,this.GetStrategy(),this.teamId&&this.GetTeam()})}GetStrategy(){this.api.Get(`/Strategies/${this.strategyId}`).subscribe(t=>{var e,n,i,o,a;this.strategy=t,t.strategyGroup&&this.crumbs.push({name:`${null===(n=null===(e=null==t?void 0:t.strategyGroup)||void 0===e?void 0:e.grade)||void 0===n?void 0:n.name}\xb0${null===(o=null===(i=null==t?void 0:t.strategyGroup)||void 0===i?void 0:i.group)||void 0===o?void 0:o.name}`.toUpperCase(),route:`/mis-estrategias/${this.strategyId}/progreso-equipos`}),t.isByTeams||this.GetStudent(),(null===(a=t.parcialProducts)||void 0===a?void 0:a.length)&&(this.parcialProduct=t.parcialProducts.find(t=>t.id==this.parcialProductId))},t=>{console.error("Error getting strategy",t)})}DownloadResource(t){this.downloadService.Download(t.URL,null==t?void 0:t.name)}GetTeam(){this.api.Get(`/Teams/${this.teamId}/WithEvaluationsOf/ParcialProduct/${this.parcialProductId}`).subscribe(t=>{var e,n,i,o,a,r,l,c,s,u,d,g,p,m;t.members=t.members.map(t=>{var e;const n=null===(e=t.student)||void 0===e?void 0:e.evaluations[0];return this.studentFiles=this.studentFiles.concat(((null==n?void 0:n.studentFiles)||[]).map(e=>{let n=Object.assign({},e);return n.owner=t.student,n})),t.comment=null==n?void 0:n.comment,t}),this.team=t;let f=(null===(i=null===(n=null===(e=t.members[0])||void 0===e?void 0:e.student)||void 0===n?void 0:n.evaluations[0])||void 0===i?void 0:i.rubricsCalifications)?null===(r=null===(a=null===(o=t.members[0])||void 0===o?void 0:o.student)||void 0===a?void 0:a.evaluations[0])||void 0===r?void 0:r.rubricsCalifications:null;this.evaluationForm.setValue({calification:(null===(s=null===(c=null===(l=t.members[0])||void 0===l?void 0:l.student)||void 0===c?void 0:c.evaluations[0])||void 0===s?void 0:s.calification)?null===(g=null===(d=null===(u=t.members[0])||void 0===u?void 0:u.student)||void 0===d?void 0:d.evaluations[0])||void 0===g?void 0:g.calification:"",comment:(null===(p=t.comments[0])||void 0===p?void 0:p.comment)?null===(m=t.comments[0])||void 0===m?void 0:m.comment:null,rubricsCalifications:f}),this.setRubricsEvaluations.emit(f)},t=>{console.error("Error getting strategy",t)})}GetStudent(){this.api.Get(`/Students/${this.studentId}/WithEvaluationsOf/ParcialProduct/${this.parcialProductId}`).subscribe(t=>{var e,n,i,o,a,r,l;this.student=t,this.studentFiles=((null===(e=t.evaluations[0])||void 0===e?void 0:e.studentFiles)||[]).map(e=>(e.owner=t,e)),this.crumbs.push({name:`${this.BuildStudentFullName(t)}`,route:null});let c=(null===(n=null==t?void 0:t.evaluations[0])||void 0===n?void 0:n.rubricsCalifications)?null===(i=null==t?void 0:t.evaluations[0])||void 0===i?void 0:i.rubricsCalifications:null;this.evaluationForm.setValue({calification:(null===(o=null==t?void 0:t.evaluations[0])||void 0===o?void 0:o.calification)?null===(a=null==t?void 0:t.evaluations[0])||void 0===a?void 0:a.calification:"",comment:(null===(r=null==t?void 0:t.evaluations[0])||void 0===r?void 0:r.comment)?null===(l=null==t?void 0:t.evaluations[0])||void 0===l?void 0:l.comment:null,rubricsCalifications:c}),this.setRubricsEvaluations.emit(c)})}OnRubricsEvaluateRubric(t){var e,n;null===(e=this.evaluationForm.get("calification"))||void 0===e||e.setValue(this.CalculateNumericCalification(t.maxCalification,t.calification)),null===(n=this.evaluationForm.get("rubricsCalifications"))||void 0===n||n.setValue(t.rubricsCalifications)}SaveEvaluation(){var t;if(this.evaluationForm.invalid)return void this.toast.ShowWarning("Debe de ingresar una calificacion");let e=this.evaluationForm.value;e.calification=this.CalculateNumericCalification(null===(t=this.parcialProduct)||void 0===t?void 0:t.maxCalification,e.calification),e.parcialProductId=this.parcialProductId,this.teamId?(e.members=this.team.members,this.api.Patch(`/Teams/${this.teamId}/Evaluate/ParcialProduct/${this.parcialProductId}`,{evaluation:e}).subscribe(t=>{this.toast.ShowSuccess("Evaluaci\xf3n guardada correctamente")},t=>{console.error("Error saving team evaluation",t)})):this.api.Patch(`/Students/${this.studentId}/Evaluate/ParcialProduct/${this.parcialProductId}`,{evaluation:e}).subscribe(t=>{this.toast.ShowSuccess("Evaluaci\xf3n guardada correctamente")})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.gz),s.Y36(d.sM),s.Y36(g.f),s.Y36(p.k),s.Y36(m.p))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-grade-product"]],decls:61,vars:23,consts:[[1,"content"],[1,"d-flex","justify-content-between","flex-wrap"],[3,"crumbs"],[1,"d-flex"],[1,"row","my-5",2,"gap","60px"],[1,"col-12"],[1,"d-flex","align-items-end","flex-wrap","flex-md-nowrap",2,"gap","13px"],[1,"d-flex","flex-column"],["class","d-flex align-items-center mb-3","style","gap: 16px;",4,"ngIf"],[1,"strategy-info-card"],[1,"text-primary","text-uppercase"],[1,"d-flex","align-items-center",2,"gap","12px"],["height","35",3,"src"],[1,"text-primary"],[1,"d-flex",2,"gap","24px","color","#2369B5"],[1,"text-success"],[1,"d-flex","flex-column","align-items-start"],[2,"font-size","16px"],["class","team-container w-100 flex-grow-1",4,"ngIf"],[1,"col-12","d-flex","flex-column","gap-2"],["class","d-flex align-items-center flex-wrap gap-4",4,"ngFor","ngForOf"],[1,"d-flex","flex-column",2,"gap","13px"],[3,"formGroup"],[1,"form-row"],[1,"instruction-number"],[1,"form-col"],[1,"form-section-title"],[1,"d-flex","flex-column","align-items-start","align-self-stretch",2,"gap","12px"],[1,"w-100",3,"ngSwitch"],["class","w-100",4,"ngSwitchCase"],[4,"ngSwitchCase"],["formControlName","comment","placeholder","Comentario","rows","4",1,"form-control","with-border"],["class","form-row",4,"ngIf"],[1,"d-flex","justify-content-end","mt-4"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","align-items-center","mb-3",2,"gap","16px"],["src","assets/icons/user.svg","height","37"],[1,"student-name"],[1,"team-container","w-100","flex-grow-1"],[1,"title","mb-0"],["class","team w-100",4,"ngIf"],[1,"team","w-100"],[1,"d-flex","w-100",2,"gap","10px"],[1,"d-flex","flex-column","w-50",2,"gap","10px"],[4,"ngFor","ngForOf"],[1,"member"],[1,"d-flex","align-items-center","flex-wrap","gap-4"],[1,"file-box","clickeable",3,"click"],[1,"ellipsis"],[1,"info-col"],[1,"title"],[1,"w-100"],["class","w-100",3,"rubrics","evaluationMode","setEvaluations","onEvaluation",4,"ngIf"],[1,"w-100",3,"rubrics","evaluationMode","setEvaluations","onEvaluation"],[1,"d-flex","flex-column",2,"gap","12px"],[1,"text-bold"],[1,"d-flex","align-items-center","justify-content-start","text-1",2,"gap","24px"],[1,"input-container","m-0"],["placeholder","Calificaci\xf3n","type","text","formControlName","calification",1,"form-control","with-border","no-icon"],[1,"d-flex","align-items-start","align-self-stretch","flex-wrap",2,"gap","12px"],["class","flex-grow-1",4,"ngFor","ngForOf"],[1,"flex-grow-1"],[1,"fake-input-disabled","mb-2"],["placeholder","Comentario","rows","4",1,"form-control","with-border",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"app-breadcrumb",2),s._UZ(3,"div",3),s.qZA(),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s.TgZ(7,"div",7),s.YNc(8,h,4,1,"div",8),s.TgZ(9,"div",9),s.TgZ(10,"div",10),s._uU(11),s.qZA(),s.TgZ(12,"div",11),s._UZ(13,"img",12),s.TgZ(14,"span",13),s._uU(15),s.qZA(),s.qZA(),s.TgZ(16,"div",14),s.TgZ(17,"span"),s._uU(18),s.ALo(19,"date"),s.qZA(),s.TgZ(20,"span"),s._uU(21,"-"),s.qZA(),s.TgZ(22,"span"),s._uU(23),s.ALo(24,"date"),s.qZA(),s.qZA(),s.TgZ(25,"span",15),s.TgZ(26,"b"),s._uU(27),s.qZA(),s.qZA(),s.TgZ(28,"div",16),s.TgZ(29,"div",13),s._uU(30,"T\xedtulo"),s.qZA(),s.TgZ(31,"span",17),s._uU(32),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(33,w,4,2,"div",18),s.qZA(),s.qZA(),s.TgZ(34,"div",19),s.YNc(35,y,15,6,"div",20),s.qZA(),s.TgZ(36,"div",5),s.TgZ(37,"div",21),s.ynx(38,22),s.TgZ(39,"div",23),s.TgZ(40,"span",24),s._uU(41,"1"),s.qZA(),s.TgZ(42,"div",25),s.TgZ(43,"div",26),s._uU(44," Asigna la calificaci\xf3n en base a la r\xfabrica que creaste "),s.qZA(),s.TgZ(45,"div",27),s.TgZ(46,"div",28),s.YNc(47,A,2,1,"div",29),s.YNc(48,M,11,1,"div",30),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(49,"div",23),s.TgZ(50,"span",24),s._uU(51,"2"),s.qZA(),s.TgZ(52,"div",25),s.TgZ(53,"div",26),s._uU(54," Agregar comentario al equipo "),s.qZA(),s.TgZ(55,"div",27),s._UZ(56,"textarea",31),s.qZA(),s.qZA(),s.qZA(),s.BQk(),s.YNc(57,q,8,1,"div",32),s.TgZ(58,"div",33),s.TgZ(59,"button",34),s.NdJ("click",function(){return e.SaveEvaluation()}),s._uU(60," Finalizar evaluaci\xf3n "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Q6J("crumbs",e.crumbs),s.xp6(6),s.Q6J("ngIf",!(null!=e.strategy&&e.strategy.isByTeams)),s.xp6(3),s.AsE(" ",null==e.strategy||null==e.strategy.strategyGroup||null==e.strategy.strategyGroup.grade?null:e.strategy.strategyGroup.grade.name,"\xb0",null==e.strategy||null==e.strategy.strategyGroup||null==e.strategy.strategyGroup.group?null:e.strategy.strategyGroup.group.name," "),s.xp6(2),s.Q6J("src","assets/icons/"+(null==e.strategy||null==e.strategy.template?null:e.strategy.template.icon),s.LSH),s.xp6(2),s.Oqu(null==e.strategy||null==e.strategy.template?null:e.strategy.template.nickname),s.xp6(3),s.Oqu(s.xi3(19,17,null==e.strategy?null:e.strategy.startDate,"dd/MM/yyyy")),s.xp6(5),s.Oqu(s.xi3(24,20,null==e.strategy?null:e.strategy.endDate,"dd/MM/yyyy")),s.xp6(4),s.Oqu(null==e.strategy?null:e.strategy.topic),s.xp6(5),s.Oqu(null==e.strategy?null:e.strategy.title),s.xp6(1),s.Q6J("ngIf",null==e.strategy?null:e.strategy.isByTeams),s.xp6(2),s.Q6J("ngForOf",e.studentFiles),s.xp6(3),s.Q6J("formGroup",e.evaluationForm),s.xp6(8),s.Q6J("ngSwitch",null==e.parcialProduct||null==e.parcialProduct.evaluationType?null:e.parcialProduct.evaluationType.type),s.xp6(1),s.Q6J("ngSwitchCase","rubric"),s.xp6(1),s.Q6J("ngSwitchCase","numeric"),s.xp6(9),s.Q6J("ngIf",null==e.strategy?null:e.strategy.isByTeams))},directives:[f.L,i.O5,i.sg,r.JL,r.sg,i.RF,i.n9,r.Fj,r.JJ,r.u,v.L,r.On],pipes:[i.uU],styles:[".text-bold[_ngcontent-%COMP%]{font-weight:700}.text-1[_ngcontent-%COMP%], .text-bold[_ngcontent-%COMP%]{color:var(--gray-1,#3d5e81);font-family:Mulish;font-size:20px;font-style:normal;line-height:normal}.text-1[_ngcontent-%COMP%]{font-weight:500}.student-name[_ngcontent-%COMP%]{color:var(--blue-1,#1081fb);font-family:Mulish;font-size:24px;font-style:normal;font-weight:800;line-height:normal}.fake-input-disabled[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content;padding:6px 24px;align-items:center;border-radius:6px;border:1px solid var(--gray-1,#3d5e81);background:#f6f7f8}.fake-input-disabled[_ngcontent-%COMP%], .strategy-info-card[_ngcontent-%COMP%]{display:flex;max-width:100%;color:var(--gray-1,#3d5e81);font-family:Mulish;font-size:16px;font-style:normal;font-weight:500;line-height:normal}.strategy-info-card[_ngcontent-%COMP%]{width:350px;padding:12px;justify-content:center;flex-shrink:0;border-radius:6px;border:1px solid var(--gray-2,#758ca6);text-align:center}.strategy-info-card[_ngcontent-%COMP%], .team-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;grid-gap:12px;gap:12px}.team-container[_ngcontent-%COMP%]{display:flex}.team-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}.team-container[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], .team-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--gray-1,#3d5e81);font-family:Mulish;font-style:normal;font-weight:500;line-height:normal}.team-container[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{display:flex;padding:12px;flex-direction:column;align-items:flex-start;grid-gap:10px;gap:10px;border-radius:12px;background:var(--green-1,#26d7a4);text-align:center;font-size:16px}.team-container[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-self:stretch;justify-content:flex-start;align-items:center;height:48px;padding:6px 24px;border-radius:6px;background-color:#f6f7f8}.team-container[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-box[_ngcontent-%COMP%]{display:flex;flex-basis:150px;overflow:hidden;padding:10px;align-items:center;justify-content:center;grid-gap:10px;gap:10px;border-radius:6px;border:1px solid var(--blue-1,#1081fb);color:var(--blue-1,#1081fb);font-size:12px}.ellipsis[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.info-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:6px;gap:6px;align-items:center;justify-content:center;color:#3d5e81;font-family:Mulish;font-size:16px;font-style:normal;font-weight:500;line-height:normal}.info-col[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:400;color:var(--blue-dark,#2369b5)}.instruction-number[_ngcontent-%COMP%]{margin-top:3px;color:var(--green-1,#26d7a4);font-size:24px;font-family:Mulish;font-weight:900}.form-row[_ngcontent-%COMP%]{flex-wrap:nowrap;width:100%}.form-row[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .form-col[_ngcontent-%COMP%]{display:flex;align-items:flex-start;grid-gap:12px;gap:12px}.form-row[_ngcontent-%COMP%]   .form-col[_ngcontent-%COMP%]{flex-grow:1;flex-direction:column}.form-row[_ngcontent-%COMP%]   .form-section-instruction[_ngcontent-%COMP%]{font-size:16px}.form-row[_ngcontent-%COMP%]   .form-section-instruction[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .form-section-title[_ngcontent-%COMP%]{color:var(--gray-1,#3d5e81);font-family:Mulish;font-style:normal;font-weight:500;line-height:normal}.form-row[_ngcontent-%COMP%]   .form-section-title[_ngcontent-%COMP%]{display:flex;align-items:flex-start;grid-gap:12px;gap:12px;font-size:20px}"]}),t})();var _=n(5709),P=n(2496);const E=[{path:"",component:O}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.u5,i.ez,P.P,a.A0,_.w,r.UX,l.G,c.zk.forRoot(),o.Bz.forChild(E)]]}),t})()},2722:(t,e,n)=>{"use strict";n.d(e,{p:()=>r});var i=n(7368),o=n(1392),a=n(2693);let r=(()=>{class t{constructor(t,e){this.api=t,this.http=e}GetNormalByHTTP(t){return this.http.get(t,{responseType:"blob"})}GetByHTTP(t){return this.http.get(this.api.GetBaseURL()+t,{responseType:"blob"})}Download(t,e=""){this.GetByHTTP(t).subscribe(t=>{const n=document.createElement("a"),i=URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.click(),n.remove()})}DownloadWithoutApi(t,e=""){this.GetNormalByHTTP(t).subscribe(t=>{const n=document.createElement("a"),i=URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.click(),n.remove()})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o.sM),i.LFG(a.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5821:(t,e,n)=>{"use strict";n.d(e,{R:()=>o});var i=n(7368);let o=(()=>{class t{constructor(){}static GetValidatorErrorMessage(t,e){return[{name:"required",label:"Campo requerido"},{name:"invalidRFC",label:"No tiene el formato adecuado"},{name:"invalidEmailAddress",label:"Correo inv\xe1lido"},{name:"invalidPassword",label:"Las contrase\xf1as no coinciden"},{name:"minlength",label:`M\xednimo ${e.requiredLength} caracteres `},{name:"maxlength",label:`M\xe1ximo ${e.requiredLength} caracteres `},{name:"invalidNumber",label:"Solo n\xfameros enteros, o con decimal"},{name:"invalidIntegerNumber",label:"Solo n\xfameros enteros"},{name:"matchstring",label:`${e.matchStringCustomLabel?e.matchStringCustomLabel:"El texto no coincide"}`}].find(e=>e.name==t)}static matchString(t,e=null){return n=>n.value?t==n.value?null:e?{matchstring:{requiredString:t,matchStringCustomLabel:e}}:{matchstring:t}:null}static CheckOnlyIntegerNumbers(t){return(null==t?void 0:t.value)?/^[0-9]+$/.test(null==t?void 0:t.value)?0==(null==t?void 0:t.value)?{invalidIntegerNumber:!0}:null:{invalidIntegerNumber:!0}:null}static CheckOnlyNumbers(t){return(null==t?void 0:t.value)?/^[1-9]\d*\.?\d*$/.test(null==t?void 0:t.value)?0==(null==t?void 0:t.value)?{invalidNumber:!0}:null:{invalidNumber:!0}:null}static EmailValidator(t){return(null==t?void 0:t.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/))?null:{invalidEmailAddress:!0}}static RfcValidator(t){return(null==t?void 0:t.value)&&(null==t?void 0:t.value.match(/^([A-Z\xd1&]{3,4}) ?(?:- ?)?(\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])) ?(?:- ?)?([A-Z\d]{2})([A\d])$/))?null:{invalidRFC:!0}}}return t.password="",t.confirmPassword="",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);