webpackJsonp([7],{"/DOY":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n("/oeL"),r=n("rlar"),i=(n.n(r),function(){function t(t){this.zone=t,this.sidebarVisibilitySubject=new r.Subject,this.breadcrumbs=[],this.maThemeSubject=new r.Subject,this.sidebarVisible=!0,this.maTheme="teal"}return t.prototype.toggleSidebarVisibilty=function(){this.sidebarVisible=!this.sidebarVisible,this.sidebarVisibilitySubject.next(this.sidebarVisible)},t.prototype.setTheme=function(t){this.maTheme=t,this.maThemeSubject.next(this.maTheme)},t.prototype.setBreadcrumbs=function(t){var e=this;this.zone.run(function(){e.breadcrumbs=t})},t.ctorParameters=function(){return[{type:o.NgZone}]},t}())},0:function(t,e,n){t.exports=n("cDNt")},"1Zxj":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n("XKz0"),r=n("cAzY"),i=(n.n(r),n("+zVg")),a=(n.n(i),n("Dqrr")),s=(n.n(a),function(){function t(t){this.http=t,this.baseURL="http://localhost:3000/api",this.headers={"Content-Type":"application/json"},this.retryAttempts=5,this.token="",this.getToken()}return t.prototype.genLink=function(t,e,n){void 0===n&&(n=!1);var o=this.baseURL+t,r=0;return e&&(this.token.length>0&&""!=this.token)&&(o+=(0==r?"?":"&")+"access_token="+this.token,r++),n&&(o+=(0==r?"?":"&")+"filter="+JSON.stringify(n),r++),o},t.prototype.conditionalRetry=function(t){return t.flatMap(function(t){return t.status>=400&&t.status<=407||t.status>=409&&t.status<=418||t.status>=500&&t.status<=503||505==t.status?a.Observable.throw(t):a.Observable.of(t.status).delay(0)}).take(this.retryAttempts)},t.prototype.handleError=function(t,e){return console.error(e,t),Object(i.of)(t)},t.prototype.ready=function(){return""!=this.token},t.prototype.getToken=function(){this.token=localStorage.getItem("token")},t.prototype.get=function(t,e,n){var o=this;void 0===e&&(e=!0),void 0===n&&(n={});var i=this.genLink(t,e,n);return this.http.get(i,this.headers).pipe(Object(r.retryWhen)(function(t){return o.conditionalRetry(t)}))},t.prototype.post=function(t,e,n,o){var i=this;void 0===n&&(n=!0),void 0===o&&(o={});var a=this.genLink(t,n,o);return this.http.post(a,e,this.headers).pipe(Object(r.retryWhen)(function(t){return i.conditionalRetry(t)}))},t.prototype.patch=function(t,e,n,o){var i=this;void 0===n&&(n=!0),void 0===o&&(o={});var a=this.genLink(t,n,o);return this.http.patch(a,e,this.headers).pipe(Object(r.retryWhen)(function(t){return i.conditionalRetry(t)}))},t.prototype.delete=function(t,e,n){var o=this;void 0===e&&(e=!0),void 0===n&&(n={});var i=this.genLink(t,e,n);return this.http.delete(i,this.headers).pipe(Object(r.retryWhen)(function(t){return o.conditionalRetry(t)}))},t.ctorParameters=function(){return[{type:o.c}]},t}())},XKc1:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n("EFfL"),r=(n.n(o),function(){function t(t){this.toastr=t}return t.prototype.showSuccess=function(t){return this.toastr.success(t,"Correcto")},t.prototype.showError=function(t){return this.toastr.error(t,"Error")},t.prototype.showWarning=function(t){return this.toastr.warning(t,"Alerta!")},t.prototype.showInfo=function(t){return this.toastr.info(t)},t.prototype.showCustom=function(t){return this.toastr.custom('<span style="color: red">Message in red.</span>',null,{enableHTML:!0})},t.ctorParameters=function(){return[{type:o.ToastsManager}]},t}())},cDNt:function(t,e,n){"use strict";function o(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i["\u0275did"](1,212992,null,0,b.o,[b.b,i.ViewContainerRef,i.ComponentFactoryResolver,[8,null],i.ChangeDetectorRef],null,null),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](3,0,null,null,9,"div",[["class","page-loader page-loader--inner"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](5,0,null,null,6,"div",[["class","page-loader__spinner"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](7,0,null,null,3,":svg:svg",[["viewBox","25 25 50 50"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](9,0,null,null,0,":svg:circle",[["cx","50"],["cy","50"],["fill","none"],["r","20"],["stroke-miterlimit","10"],["stroke-width","2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,1,0)},null)}function r(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,o,M)),i["\u0275did"](1,114688,null,0,f,[g],null,null)],function(t,e){t(e,1,0)},null)}Object.defineProperty(e,"__esModule",{value:!0});var i=n("/oeL"),a={production:!0},s=n("iEW0"),l={apiKey:"AIzaSyBUZd1ag__Xe04j1J3COoHKP7ocbaupkIQ",authDomain:"traxsa-c6228.firebaseapp.com",databaseURL:"https://traxsa-c6228.firebaseio.com",projectId:"traxsa-c6228",storageBucket:"traxsa-c6228.appspot.com",messagingSenderId:"34837317145"};s.initializeApp(l);var u=function(){function t(){}return t}(),p=n("HAwn"),c=n("2LMR"),d=(n("5uCp"),n("gvep")),m=n("1Zxj"),h=n("k0tb"),g=function(){function t(t,e,n,o){this.db=t,this.afAuth=e,this.api=n,this.events=o,this.messaging=s.messaging(),this.currentMessage=new d.BehaviorSubject(null),this.user={},this.user=JSON.parse(localStorage.getItem("user"))}return t.prototype.updateToken=function(t){var e=this;this.api.post("/Usuarios/"+this.user.id+"/updatePushToken",{token:{id:t,isMobile:!1}}).subscribe(function(){}),this.afAuth.authState.take(1).subscribe(function(n){if(n){var o=(r={},r[n.uid]=t,r);e.db.object("fcmTokens/").update(o),console.log("Token: ",t);var r}})},t.prototype.getPermission=function(){var t=this;this.messaging.requestPermission().then(function(){return console.log("Notification permission granted."),t.messaging.getToken()}).then(function(e){console.log(e),t.updateToken(e)}).catch(function(t){console.log("Unable to get permission to notify.",t)})},t.prototype.receiveMessage=function(){var t=this;this.messaging.onMessage(function(e){console.log("Message: ",e),t.events.publish("message",e),t.currentMessage.next(e)})},t.ctorParameters=function(){return[{type:p.a},{type:c.a},{type:m.a},{type:h.a}]},t}(),f=function(){function t(t){this.msgService=t,this.title="app",this.message=null}return t.prototype.ngOnInit=function(){localStorage.getItem("token")&&(this.msgService.getPermission(),this.msgService.receiveMessage(),this.message=this.msgService.currentMessage)},t.ctorParameters=function(){return[{type:g}]},t}(),y=n("tZOw"),b=n("BkNc"),v=[],M=i["\u0275crt"]({encapsulation:2,styles:v,data:{}}),S=i["\u0275ccf"]("app-root",f,r,{},{},[]),T=n("qbdv"),k=n("fc+i"),E=n("f9zQ"),N=n("fL27"),L=n("CPp0"),C=n("XKz0"),I=n("EyWH"),O=n("bm2B"),R=n("13je"),A=n("EUK9"),P=n("t6g9"),D=n("/kLR"),j=n("/DOY"),_=function(){function t(t){this.router=t}return t.prototype.canActivate=function(t,e){var n=localStorage.getItem("token");return t.data.hasOwnProperty("role")?t.data.role==JSON.parse(localStorage.getItem("user")).role.name:!!n||(this.router.navigate(["login"]),!1)},t.ctorParameters=function(){return[{type:b.k}]},t}(),w=n("XKc1"),F=n("eLDn"),U=n("8bfK"),x=i["\u0275cmf"](u,[f],function(t){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[y.a,S]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](5120,i.LOCALE_ID,i["\u0275m"],[[3,i.LOCALE_ID]]),i["\u0275mpd"](4608,T.NgLocalization,T.NgLocaleLocalization,[i.LOCALE_ID]),i["\u0275mpd"](5120,i.APP_ID,i["\u0275f"],[]),i["\u0275mpd"](5120,i.IterableDiffers,i["\u0275k"],[]),i["\u0275mpd"](5120,i.KeyValueDiffers,i["\u0275l"],[]),i["\u0275mpd"](4608,k.DomSanitizer,k["\u0275e"],[T.DOCUMENT]),i["\u0275mpd"](6144,i.Sanitizer,null,[k.DomSanitizer]),i["\u0275mpd"](4608,k.HAMMER_GESTURE_CONFIG,k.HammerGestureConfig,[]),i["\u0275mpd"](5120,k.EVENT_MANAGER_PLUGINS,function(t,e,n,o){return[new k["\u0275DomEventsPlugin"](t),new k["\u0275KeyEventsPlugin"](e),new k["\u0275HammerGesturesPlugin"](n,o)]},[T.DOCUMENT,T.DOCUMENT,T.DOCUMENT,k.HAMMER_GESTURE_CONFIG]),i["\u0275mpd"](4608,k.EventManager,k.EventManager,[k.EVENT_MANAGER_PLUGINS,i.NgZone]),i["\u0275mpd"](135680,k["\u0275DomSharedStylesHost"],k["\u0275DomSharedStylesHost"],[T.DOCUMENT]),i["\u0275mpd"](4608,k["\u0275DomRendererFactory2"],k["\u0275DomRendererFactory2"],[k.EventManager,k["\u0275DomSharedStylesHost"]]),i["\u0275mpd"](5120,E.a,N.d,[]),i["\u0275mpd"](5120,E.c,N.e,[]),i["\u0275mpd"](4608,E.b,N.c,[E.a,E.c]),i["\u0275mpd"](5120,i.RendererFactory2,N.f,[k["\u0275DomRendererFactory2"],E.b,i.NgZone]),i["\u0275mpd"](6144,k["\u0275SharedStylesHost"],null,[k["\u0275DomSharedStylesHost"]]),i["\u0275mpd"](4608,i.Testability,i.Testability,[i.NgZone]),i["\u0275mpd"](4608,k.Meta,k.Meta,[T.DOCUMENT]),i["\u0275mpd"](4608,k.Title,k.Title,[T.DOCUMENT]),i["\u0275mpd"](4608,L.c,L.c,[]),i["\u0275mpd"](4608,L.g,L.b,[]),i["\u0275mpd"](5120,L.i,L.j,[]),i["\u0275mpd"](4608,L.h,L.h,[L.c,L.g,L.i]),i["\u0275mpd"](4608,L.f,L.a,[]),i["\u0275mpd"](5120,L.d,L.k,[L.h,L.f]),i["\u0275mpd"](4608,C.h,C.m,[T.DOCUMENT,i.PLATFORM_ID,C.k]),i["\u0275mpd"](4608,C.n,C.n,[C.h,C.l]),i["\u0275mpd"](5120,C.a,function(t){return[t]},[C.n]),i["\u0275mpd"](4608,C.j,C.j,[]),i["\u0275mpd"](6144,C.i,null,[C.j]),i["\u0275mpd"](4608,C.g,C.g,[C.i]),i["\u0275mpd"](6144,C.b,null,[C.g]),i["\u0275mpd"](5120,C.f,C.o,[C.b,[2,C.a]]),i["\u0275mpd"](4608,C.c,C.c,[C.f]),i["\u0275mpd"](4608,I.b,N.b,[i.RendererFactory2,k.DOCUMENT]),i["\u0275mpd"](4608,O.r,O.r,[]),i["\u0275mpd"](5120,R.b,R.f,[R.c,R.d]),i["\u0275mpd"](5120,p.a,p.c,[R.b]),i["\u0275mpd"](4608,A.a,A.a,[]),i["\u0275mpd"](5120,b.a,b.w,[b.k]),i["\u0275mpd"](4608,b.d,b.d,[]),i["\u0275mpd"](6144,b.f,null,[b.d]),i["\u0275mpd"](135680,b.p,b.p,[b.k,i.NgModuleFactoryLoader,i.Compiler,i.Injector,b.f]),i["\u0275mpd"](4608,b.e,b.e,[]),i["\u0275mpd"](5120,b.h,b.z,[b.x]),i["\u0275mpd"](5120,i.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[b.h]),i["\u0275mpd"](4608,P.ToastOptions,P.ToastOptions,[]),i["\u0275mpd"](4608,D.ToastsManager,D.ToastsManager,[i.ComponentFactoryResolver,i.NgZone,i.ApplicationRef,P.ToastOptions]),i["\u0275mpd"](4608,j.a,j.a,[i.NgZone]),i["\u0275mpd"](4608,m.a,m.a,[C.c]),i["\u0275mpd"](4608,_,_,[b.k]),i["\u0275mpd"](4608,c.a,c.a,[R.b]),i["\u0275mpd"](4608,g,g,[p.a,c.a,m.a,A.a]),i["\u0275mpd"](4608,w.a,w.a,[D.ToastsManager]),i["\u0275mpd"](512,T.CommonModule,T.CommonModule,[]),i["\u0275mpd"](1024,i.ErrorHandler,k["\u0275a"],[]),i["\u0275mpd"](1024,i.NgProbeToken,function(){return[b.t()]},[]),i["\u0275mpd"](512,b.x,b.x,[i.Injector]),i["\u0275mpd"](1024,i.APP_INITIALIZER,function(t,e,n){return[k["\u0275c"](t,e),b.y(n)]},[[2,k.NgProbeToken],[2,i.NgProbeToken],b.x]),i["\u0275mpd"](512,i.ApplicationInitStatus,i.ApplicationInitStatus,[[2,i.APP_INITIALIZER]]),i["\u0275mpd"](131584,i["\u0275e"],i["\u0275e"],[i.NgZone,i["\u0275Console"],i.Injector,i.ErrorHandler,i.ComponentFactoryResolver,i.ApplicationInitStatus]),i["\u0275mpd"](2048,i.ApplicationRef,null,[i["\u0275e"]]),i["\u0275mpd"](512,i.ApplicationModule,i.ApplicationModule,[i.ApplicationRef]),i["\u0275mpd"](512,k.BrowserModule,k.BrowserModule,[[3,k.BrowserModule]]),i["\u0275mpd"](512,L.e,L.e,[]),i["\u0275mpd"](512,C.e,C.e,[]),i["\u0275mpd"](512,C.d,C.d,[]),i["\u0275mpd"](512,N.a,N.a,[]),i["\u0275mpd"](512,O.p,O.p,[]),i["\u0275mpd"](512,O.d,O.d,[]),i["\u0275mpd"](1024,b.s,b.u,[[3,b.k]]),i["\u0275mpd"](512,b.r,b.c,[]),i["\u0275mpd"](512,b.b,b.b,[]),i["\u0275mpd"](512,T.LocationStrategy,T.HashLocationStrategy,[T.PlatformLocation,[2,T.APP_BASE_HREF]]),i["\u0275mpd"](512,T.Location,T.Location,[T.LocationStrategy]),i["\u0275mpd"](512,i.Compiler,i.Compiler,[]),i["\u0275mpd"](512,i.NgModuleFactoryLoader,i.SystemJsNgModuleLoader,[i.Compiler,[2,i.SystemJsNgModuleLoaderConfig]]),i["\u0275mpd"](1024,b.i,function(){return[[{path:"login",loadChildren:"./components/login/login.module#LoginModule"},{path:"",redirectTo:"login",pathMatch:"full"},{path:"inicio",loadChildren:"./layout/layout.module#LayoutModule",canActivate:[_]}]]},[]),i["\u0275mpd"](256,b.g,{},[]),i["\u0275mpd"](1024,b.k,b.v,[i.ApplicationRef,b.r,b.b,T.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,b.i,b.g,[2,b.q],[2,b.j]]),i["\u0275mpd"](512,b.n,b.n,[[2,b.s],[2,b.k]]),i["\u0275mpd"](512,R.a,R.a,[]),i["\u0275mpd"](512,p.b,p.b,[]),i["\u0275mpd"](512,F.a,F.a,[]),i["\u0275mpd"](512,U.ToastModule,U.ToastModule,[]),i["\u0275mpd"](512,u,u,[]),i["\u0275mpd"](256,C.k,"XSRF-TOKEN",[]),i["\u0275mpd"](256,C.l,"X-XSRF-TOKEN",[]),i["\u0275mpd"](256,R.c,{apiKey:"AIzaSyBUZd1ag__Xe04j1J3COoHKP7ocbaupkIQ",authDomain:"traxsa-c6228.firebaseapp.com",databaseURL:"https://traxsa-c6228.firebaseio.com",projectId:"traxsa-c6228",storageBucket:"traxsa-c6228.appspot.com",messagingSenderId:"34837317145"},[]),i["\u0275mpd"](256,R.d,void 0,[])])});a.production&&Object(i.enableProdMode)(),Object(k.platformBrowser)().bootstrapModuleFactory(x).catch(function(t){return console.log(t)})},gFIY:function(t,e,n){function o(t){var e=r[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var r={"../components/bugs-report/bugs-report.module.ngfactory":["/0lf",2],"../components/dashboard/dashboard.module.ngfactory":["TB8i",0,4],"./components/login/login.module.ngfactory":["7k9D",0,3],"./layout/layout.module.ngfactory":["7fD3",1,0]};o.keys=function(){return Object.keys(r)},o.id="gFIY",t.exports=o}},[0]);